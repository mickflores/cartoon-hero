(function(){try{
(()=>{var dp=Object.defineProperty;var lp=(t,e,o)=>e in t?dp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var bo=(t,e,o)=>(lp(t,typeof e!="symbol"?e+"":e,o),o);var l={apps:[{active:!0,app:"TARGET",platforms:[{platform:"FACEBOOK_ADS"}]}],bundles:[{name:"skillshare"}],config:{shopify:{add_to_cart:{active:!0},checkout:{active:!0}},spa:{refresh:{delay:1e3,enabled:!0}},visitor:{id_name:"_bcai_i",id_source:"cookie",set_info:!0}},facebookAccounts:[{advancedMatching:!0,pixelId:"619868948121290"}],name:"SKILLSHARE",pages:[{ignored:!1,log_purchase:!0,pageName:"confirmation",pattern:"skillshare.com/home/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"checkout",pattern:"/[^/]+/membership/checkout/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"class.details",pattern:"/[^/]+/classes"},{ignored:!1,log_purchase:!1,pageName:"paths.list",pattern:"/[^/]+/paths"},{ignored:!1,log_purchase:!1,pageName:"courses.list",pattern:"/[^/]+/browse"},{ignored:!1,log_purchase:!1,pageName:"learn.list",pattern:"/learn"},{ignored:!1,log_purchase:!1,pageName:"teachers.teach",pattern:"/teacher-stats"},{ignored:!1,log_purchase:!1,pageName:"teach",pattern:"/teach"},{ignored:!1,log_purchase:!1,pageName:"blog",pattern:"/[^/]+/blog"},{ignored:!1,log_purchase:!1,pageName:"projects",pattern:"/[^/]+/projects"},{ignored:!1,log_purchase:!1,pageName:"search",pattern:"/[^/]+/search"},{ignored:!1,log_purchase:!1,pageName:"tedx.landing",pattern:"/[^/]+/tedx"},{ignored:!1,log_purchase:!1,pageName:"login",pattern:"/[^/]+/login"},{ignored:!1,log_purchase:!1,pageName:"signup",pattern:"/signup"},{ignored:!1,log_purchase:!1,pageName:"membership.cancel",pattern:"/membership/cancel"},{ignored:!1,log_purchase:!1,pageName:"saved-classes",pattern:"/lists/saved-classes"},{ignored:!1,log_purchase:!1,pageName:"your-classes",pattern:"/[^/]+/your-classes"},{ignored:!1,log_purchase:!1,pageName:"watch-history",pattern:"/lists/watch-history"},{ignored:!1,log_purchase:!1,pageName:"settings",pattern:"/[^/]+/settings"},{ignored:!1,log_purchase:!1,pageName:"user",pattern:"/[^/]+/user"},{ignored:!1,log_purchase:!1,pageName:"home.logged-in",pattern:"skillshare.com/[^/]+/home"},{ignored:!1,log_purchase:!1,pageName:"home.logged-out",pattern:"^https?:\\/\\/([a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]\\/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"addtocart"},{ignored:!1,log_purchase:!1,pageName:"emailsubmit"},{ignored:!1,log_purchase:!1,pageName:"other"}]};var c=window.IntentProperties?window.IntentProperties.namespace||"intent":"blackcrow",s=window.blackcrow||window.intent||{},d;Array.isArray(s)&&(d=s,s={});s.BUNDLE_NAME="skillshare.js";s.BUILD_NUMBER="12248";s.TAG_SRC=window.blackcrowTagSrc||"JS";window.blackcrow=s;window.intent=s;var u=s.SITE_NAME||"skillshare",$r="init.blackcrow.ai";document.currentScript&&document.currentScript instanceof HTMLElement?$r=document.currentScript.src.split("/")[2]:s.TAG_SRC==="ShopifyAppExtension"&&($r="shopify-init.blackcrow.ai");var m="https://"+$r+"/";__webpack_public_path__=m;var Hs=`
`;function W(t,e){if(typeof t=="string"){let o=t.split(Hs);return o.splice(1,e),o.join(Hs)}return""}function Mr(){return s.TAG_SRC||"JS"}function I(){return Mr()==="ShopifyAppExtension"}function _p(){try{return window.location!==window.top.location}catch{return!0}}function Vr(){return I()?window.location.hostname:window.top.location.hostname}function Ws(){return I()?window.location:_p()?window.top.location:window.location}function X(){return Ws()?.pathname}function x(){return Ws().href}function Z(){return window?.navigator?.userAgent}function jt(t){return performance&&typeof performance.getEntriesByType=="function"&&performance.getEntriesByType(t)||[]}function To(){return performance&&typeof performance.now=="function"&&performance.now()||0}function Jt(t,e){let o=window.browser;if(I()&&o){o.sendBeacon(t,e);return}window?.navigator?.sendBeacon(t,e)}var hp=["clicktripz","example","partner"],Ep=[".shopifypreview.","localhost.","demo.","staging.","development-","development.","sp-blackcrow.myshopify.com"],yp=["localhost","127.0.0.1"];function wp(){let t=Vr();return t===""||yp.includes(t)}function vp(){let t=Vr(),e=!1;return Ep.forEach(o=>{t.indexOf(o)!==-1&&(e=!0)}),e}function Vt(t){return hp.indexOf(t.toLowerCase())!==-1||wp()||vp()}function tt(t,e={},o="info"){if(Vt(u))return;let r="https://monitor-api.blackcrow.ai/",n=!1,i=JSON.stringify({message:t,status:o,service:"javascript-api",version:parseInt("12248",10)||0,ddsource:"browser",ddtags:`env:${n?"dev":"production"}`,"logger.name":"monitor-api","http.useragent":Z(),"view.site":u,...e});Jt(r,i)}function Ks(t){let e=Math.random();(t.overrideSampling||e>=.3&&e<.4)&&tt(t.message,{status:t.status||"error","error.kind":t.name,"error.message":t.message,"error.stack":t.stack,"view.url":x(),"view.referrer":document.referrer})}function Sp(t){if(typeof t.stack=="string"&&t.stack)return t.stack;try{throw t}catch(e){return W(e.stack,2)}}function Ip(t){let e=!0;return t.skipNotify&&(e=!1),t.message.indexOf("com.gargoylesoftware.htmlunit")!==-1&&(e=!1),e}function Ap(t,e){let r=`BlackCrow${e?` ${e}`:""} ${t.stack}`;window.console&&(window.console.error?window.console.error(r):window.console.log(r))}function Po(t,e={}){if(!t)return;try{t.stack=Sp(t)}catch{}!1&&Ap(t,e.appName),Ip(t)&&typeof Po.sendErrorToServer=="function"&&Po.sendErrorToServer(t)}Po.sendErrorToServer=Ks;s.error=Po;function ko(t,e){let o=document.createElement("link");o.rel=e,o.href=t,document.head.appendChild(o)}s.TAG_SRC!=="ShopifyAppExtension"&&!window.blackcrowpreconnected&&(ko("https://api.blackcrow.ai/","preconnect"),ko("https://api.blackcrow.ai/","dns-prefetch"),ko(m,"preconnect"),ko(m,"dns-prefetch"),window.blackcrowpreconnected=1);function w(t,e,o){if(t)if(typeof t.length<"u"){for(let r=0,n=t.length;r<n;r+=1)if(e.call(o,t[r],r,t)===!1)return}else{let r=Object.keys(t);for(let n=0,i=r.length;n<i;n+=1)if(e.call(o,t[r[n]],r[n],t)===!1)return}}var xp="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var js=(t=21)=>{let e="",o=t;for(;o--;)e+=xp[Math.random()*64|0];return e};var Js=js;function A(t,e){if(I())return window.blackcrow.cookie.get(t);e=e||document.cookie;let o={};return w(e.split(/\s?;\s?/),r=>{let n=r.split(/\s?=\s?/);o[n.shift().trim()]=n.join("=").trim()}),o[t]}var Ur="_bcai_h",qe="_bcai_i",qr="_bcai_e",Ys="_bcai_t",Xs="_bcai_up",Gr="_bcai_vn",Hr="_bcai_vs",Co="_bcai_v",Ge="_bcai_pu",Wr="_bcai_lpv",Kr="_bcai_spv",No="_bcai_em",jr="_bcai_fn",Jr="_bcai_ln",Oo="_bcai_ph",zs="_bcai_koc",Qs="_bcai_khs",Zs="_bcai_kps",ta="_bcai_pwo_ebc",Yr="_bcai_ca",Xr="_bcai_ebc",ea="_bcai_nfs",oa="fbclid",Ro="_fbc",Yt="_fbp",Lo="__kla_id";var He;function zr(){if(He)return He;let t=document.location.hostname.split("."),e,o,r=t.length;if(r===1)He="";else{for(e=`${Ys}${new Date().valueOf()}`;r>2&&(r-=1,o=t.slice(1).join("."),document.cookie=`${e}=${e}; domain=${o}`,e=A(e),document.cookie=`${e}=1; expires=Thu, 01 Jan 1970 00:00:00 GMT; domain=${o}`,!!e);)t.shift();He=t.join(".")}return He}function V(t,e,o){try{let r;if(o){let i=new Date;i.setTime(i.getTime()+o*60*1e3),r=`;expires=${i.toUTCString()}`}else r="";let n=`${t}=${e}${r};domain=${zr()};path=/`;I()?(browser.cookie.set(n),window.blackcrow.cookie.set(t,e)):document.cookie=n}catch{}}var ue;function Ct(){return ue||(ue=A(qe),ue||(ue=Js(),V(qe,ue,1051200)),ue)}function bp(t,e){var o,r,n,i,p,f,a,g,_,y;for(o=t.length&3,r=t.length-o,n=e,p=3432918353,a=461845907,y=0;y<r;)_=t.charCodeAt(y)&255|(t.charCodeAt(++y)&255)<<8|(t.charCodeAt(++y)&255)<<16|(t.charCodeAt(++y)&255)<<24,++y,_=(_&65535)*p+(((_>>>16)*p&65535)<<16)&4294967295,_=_<<15|_>>>17,_=(_&65535)*a+(((_>>>16)*a&65535)<<16)&4294967295,n^=_,n=n<<13|n>>>19,i=(n&65535)*5+(((n>>>16)*5&65535)<<16)&4294967295,n=(i&65535)+27492+(((i>>>16)+58964&65535)<<16);switch(_=0,o){case 3:_^=(t.charCodeAt(y+2)&255)<<16;case 2:_^=(t.charCodeAt(y+1)&255)<<8;case 1:_^=t.charCodeAt(y)&255,_=(_&65535)*p+(((_>>>16)*p&65535)<<16)&4294967295,_=_<<15|_>>>17,_=(_&65535)*a+(((_>>>16)*a&65535)<<16)&4294967295,n^=_}return n^=t.length,n^=n>>>16,n=(n&65535)*2246822507+(((n>>>16)*2246822507&65535)<<16)&4294967295,n^=n>>>13,n=(n&65535)*3266489909+(((n>>>16)*3266489909&65535)<<16)&4294967295,n^=n>>>16,n>>>0}var Tp=4294967295,Pp=108;function We(t){return bp(t||"",Pp)/Tp}function q(t={}){let e=Ct(),o=t.name||"",{force:r,allocations:n}=t,i=We(`${e}${o}`);if(r)return n.find(g=>g.name===r)?.value;let p=0,f=[];w(t.allocations,g=>{if(f.push({min:p,max:p+g.percent,value:g.value}),p+=g.percent,p>1)throw new Error("Bucket allocation exceeds 100%")});let a;return w(f,g=>i>=g.min&&i<g.max?(a=g.value,!1):!0),a}function at(){return document.referrer}function Ae(){return document.title}function kp(t,e){let o=e.split("[");return o.length>1?t&&t[o[0]]&&t[o[0]][parseInt(o[1],10)]:t&&t[e]}function v(t,e){if(!(!t||!e||typeof e!="string"))return e.split(".").reduce(kp,t)}function pe(t,e,o,r,n){!t||!e||typeof e!="string"||(e.indexOf(".")!==-1?(e=e.split("."),pe(t,e.shift(),o,e,n)):!r||r.length===0?(!n||!Object.prototype.hasOwnProperty.call(t,e))&&(t[e]=o):((!n||!Object.prototype.hasOwnProperty.call(t,e))&&(t[e]=t[e]||{}),pe(t[e],r.shift(),o,r,n)))}s.storage=s.storage||{};function Cp(t,e){let o=s.storage[t].audience;typeof o=="object"&&e?.audience===!1?s.storage[t]={audience:o}:s.storage[t]={}}function z(t){t&&(s.storage[t]=s.storage[t]||{});function e(){return s.storage[t]}return{clear:o=>{t==="bound_events"&&o?Cp(t,o):s.storage[t]={}},getAll:()=>e()||{},get:o=>v(e(),o),set:(o,r)=>{let n=e();typeof o=="string"?pe(n,o,r):w(o,(i,p)=>{pe(n,p,i)})},push:(o,r)=>{let n=e(),i=v(n,o);Array.isArray(i)?i.push(r):pe(n,o,[r])}}}var ra=z("page"),na="history";function Np(t,e){return typeof e=="function"?e.toString().replace(/\s+/g," "):e}function ia(){return console.group(`${c} history`),w(ra.get(na),t=>{console.groupCollapsed(t.name),console.log("data",JSON.stringify(t.data,Np,4)),console.log(t.source),console.groupEnd()}),console.groupEnd(),""}function Y(t,e){let o=new Error("");o.name="source",o.stack=W(o.stack,1),ra.push(na,{name:t,data:e,source:o})}var Op=Object.prototype.toString,Qr=Array.prototype.slice;function S(t,...e){return t=t||{},w(e,o=>{w(o,(r,n)=>{let i=Op.call(r).split(" ").pop();if(i!=="Undefined]"){if(!r||r===r.window||r.nodeType||r._isVue){t[n]=r;return}if(i==="Object]"){t[n]=t[n]||{},S(t[n],r);return}if(i==="Array]"){t[n]=t[n]||[],t[n]=Qr.call(t[n]).concat(r);return}if(i==="NodeList]"||i==="HTMLCollection]"){t[n]=t[n]||[],t[n]=Qr.call(t[n]).concat(Qr.call(r));return}t[n]=r}})},this),t}window.blackcrow.pushedData=window.blackcrow.pushedData||{};function Zr(){let t=window.blackcrow.pushedData;t&&(t.setByFacebookIntercept||t.winLocation!==x())&&(window.blackcrow.pushedData={})}function Do(t){S(window.blackcrow.pushedData,t,{winLocation:x()})}function Fo(t){window.blackcrow.pushedData={...t,winLocation:x()}}function P(t){return v(window.blackcrow.pushedData,t)}var tn=z("events_api_response"),en=z("api_config");function xe(t){let e=new Error(t);return e.name="SequencingError",e.status="warn",e.stack=W(e.stack,1),e}var sa=!1,aa=!1;function ca(t,e){if(t){let o=e.get(`data.${t}`);if(typeof o=="string"){let r=o.toLowerCase();return r==="off"||r==="false"?!1:o}return o}return e.get("data")}function on(t){en.set("data",t),aa=!0}function L(t){return aa===!1&&s.error(new xe("Attempting to access apiConfig before it has been set!")),ca(t,en)}function Ke(t){tn.set("data",t),sa=!0}function rn(t){return sa===!1&&s.error(new xe("Attempting to access events api response before it has been set!")),ca(t,tn)}function nn(){return!!rn("history_id")}function Rp(t){let e=new Error(t);return e.name="URIDecodingError",e.status="warn",e.stack=W(e.stack,1),e}function vt(t){let e={};if(typeof t=="string"&&t.length){let o=t.split("?");o.shift(),o=o.join("?"),o=o.split("#")[0],w(o.split("&"),r=>{let n=r;try{n=decodeURIComponent(n)}catch{s.error(new Rp(`Unable to decode URI component: ${n}`))}let i=n.indexOf("="),p=i>0?[n.slice(0,i),n.slice(i+1)]:[n];typeof p[1]<"u"&&(e[p[0]]=p[1])})}return e}function G(t,e){return e?vt(e)[t]:vt(x())[t]}var fa="config.visitor.query_string";function Lp(t){let e=t?v(t,fa):L(fa);return e?{param:e.param,separator:e.separator,index:e.index}:{}}function Dp(t){let e=t.param;if(e)return G(e)}function Fp(t,e){let o=e.separator,r=e.index;return o&&r?t.split(o)[r]||void 0:t}function ua(t){let e=Lp(t),o=Dp(e);if(o)return Fp(o,e)}var sn,an;function Bp(){let t,e=window.GoogleAnalyticsObject?window[window.GoogleAnalyticsObject]:window.ga;return e&&typeof e.getAll=="function"&&w(e.getAll(),o=>{try{let r=o.get("clientId");if(r)return t=r,!1}catch{}}),t}function $p(){if(typeof an<"u")return an;let t,e=A("_ga");if(e){let o=e.split(".");o.shift(),o.shift(),t=o.join(".")}return an=t,t}function Xt(t){if(sn)return sn;let e=P("google_id")||ua(t)||window.gaGlobal&&window.gaGlobal.vid||Bp()||$p();return sn=e,e}var pa="blackcrow",ma="cookie",da="global",la="google",cn="pushed_data";var me,St=pa.toUpperCase(),It=Co,Bo=!1;function ga(t,e,o){V(Co,t,1051200),V(Hr,e,1051200),V(Gr,o,1051200)}function be(){if(me)return{id:me,source:St,name:It,fallback:Bo};if(me=A(Co),me)return St=A(Hr)||St,It=A(Gr)||It,ga(me,St,It),{id:me,source:St,name:It,fallback:Bo};let t=L("config.visitor.id_source"),e=L("config.visitor.id_name"),o=P("visitor_id");if(o&&(St=cn.toUpperCase(),It="visitor_id"),t===ma){let r=A(e);r&&(o=r,St=t.toUpperCase(),It=e)}else if(t===da){let r=v(window,e);r&&(o=r,St=t.toUpperCase(),It=e)}else if(t===cn){let r=P(e);r&&(o=r,St=t.toUpperCase(),It=e)}else if(t===la){let r=Xt();r&&(o=r,St=t.toUpperCase(),It=e)}return o||(o=Ct(),Bo=!0),me=o,ga(o,St,It),{id:o,source:St,name:It,fallback:Bo}}function Mp(t){(t.overrideSampling||q({name:"error_sampling",allocations:[{percent:.1,value:!0}]}))&&tt(t.message,{status:t.status||"error","error.kind":t.name,"error.message":t.message,"error.stack":t.stack,"usr.id":be().id,"view.url":P("page_url")||x(),"view.referrer":P("page_referrer_url")||at()}),Y(t.name,t)}function _a(){s.error.sendErrorToServer=Mp}function Vp(t){let e={name:"other",major:0,minor:0};if(/googlebot/.test(t)||/adsbot/.test(t)||/bingbot/.test(t)||/bingpreview/.test(t)||/slurp/.test(t)||/storebot/.test(t)||/spider/.test(t)||/crawler/.test(t)||/yandexbot/.test(t)||/ptst[ \/]/.test(t)||/externalhit/.test(t))return e.name="bot",e;let r=/(msie) ([\w.]+)/.exec(t)||/(ucbrowser)[ \/]([\w.]+)/.exec(t)||/(miuibrowser)[ \/]([\w.]+)/.exec(t)||/(opera mini)[ \/]([\w.]+)/.exec(t)||/(opr)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(t)||/(firefox)[ \/]([\w.]+)/.exec(t)||/(trident)(?:.*? rv:([\w.]+))?/.exec(t)||/(edg)[ \/]([\w.]+)/.exec(t)||/(edge)[ \/]([\w.]+)/.exec(t);if(r){r[1]==="opr"?r[1]="opera":r[1]==="trident"?r[1]="msie":r[1]==="edg"&&(r[1]="edge"),e.name=r[1].replace(/\s+/,"");let n=(r[2]||"").split(/\.|-|_/);e.major=parseInt(n[0],10)||0,e.minor=parseInt(n[1],10)||0}return e}function Up(t){return!!(t.match(/ipad/)||t.match(/android/)&&!t.match(/mobi|mini|fennec/)||t.match(/macintosh/)&&window.navigator.maxTouchPoints>1)}function qp(t){return!!t.match(/ip(hone|od)|android.+mobile|windows (ce|phone)|blackberry|bb10|symbian|webos|firefox.+fennec|opera m(ob|in)i|tizen.+mobile|polaris|iemobile|lgtelecom|nokia|sonyericsson|dolfin|uzard|natebrowser|ktf;|skt;/)}function Gp(t){return qp(t)?"mobile":Up(t)?"tablet":"desktop"}function de(t){t=t||"";let e=t.toLowerCase();return{browser:Vp(e),deviceType:Gp(e)}}function Rt(t){let e=new Error(t);return e.name="NotSupportedError",e.status="warn",e.stack=W(e.stack,1),e}function Hp(){try{return!new Error("")}catch(t){return t}}function Wp(){let t=Hp();if(t)throw t.name="NotSupportedError",t.status="warn",t.message="Missing feature: errorConstructor",t}function Kp(){let{browser:t}=de(Z());if(typeof t=="object"){let e=t.name,o=t.major;if(e==="bot"||e==="msie"||e==="edge"&&o<15||e==="firefox"&&o<54||e==="chrome"&&o<42||e==="safari"&&o<10||e==="ucbrowser"||e==="miuibrowser"||e==="opera"&&o<38||e==="operamini")return!1}return!0}function jp(t){let e=t?.config?.loadBundleWithShopifyWebPixel??!0;return I()?e:!0}function fn(t,e){if(!Kp())throw new Rt("Browser not supported");jp(t)&&(Wp(),e())}function je(t,e,o){if(t){let n=(t.options||{}).origEvent||{};clearTimeout(n.timeout),typeof t.callback=="function"&&!n.timeoutReached&&(t.callback(e),typeof o=="function"&&o())}}var Jp=z("bound_events"),Yp=z("triggered_events");function k(t,e,o,r={}){let n={appName:t,eventName:e,callback:o,options:r};Jp.push(`${t}.${e}`,n),w(Yp.get(`${t}.${e}`),i=>{je(n,i.data,i.onExec)})}function _t(t,e){let o=new Error(t);return o.name=`${e||""}RequestError`,o.skipNotify=!0,o.stack=W(o.stack,1),o}function $o(t,e,o){return function(...n){try{return t.apply({},n)}catch(i){o&&o.interval&&clearInterval(o.interval),s.error(i,{appName:e})}}}function Xp(t,e,...o){let r={},n=setInterval.apply(window,[$o(t,this.appName,r),e].concat(o));return r.interval=n,n}function zp(t,e,...o){return setTimeout.apply(window,[$o(t,this.appName),e].concat(o))}function Qp(t,e,o,r){let n=o.wrapped||$o(o,this.appName);o.wrapped=n,t.addEventListener?t.addEventListener(e,n,r):t.attachEvent&&t.attachEvent(e,n)}function Zp(t,e,o,r){o?t.removeEventListener(e,o.wrapped,r):t.removeEventListener(e)}var h={fn:$o,addListener:Qp,removeListener:Zp,setInterval:Xp,setTimeout:zp};function K(t,e,o,r){function n(i){typeof r=="function"&&r(i)}fetch(t,e).then(i=>{if(i.ok)typeof o=="function"&&o(i);else{let p=`${i.status} ${i.statusText}`;try{i.json().then(f=>{let a=f.errors[0];p=`${a.error_type}: ${a.error_message}`,n(new Error(p))}).catch(()=>{n(new Error(p))})}catch{n(new Error(p))}}}).catch(n)}function U(t,e,o,r){function n(f){let a=new _t(f.message,e.servletName);s.error(a,{customDimensions:{url:t}}),typeof r=="function"&&h.fn(r)(a)}function i(f){if(typeof f!="object"){n(new Error("JSON is not an object"));return}typeof o=="function"&&h.fn(o)(f||{})}function p(f){f.json().then(h.fn(i)).catch(a=>{n(new Error(`Invalid JSON ${a.message}`))})}K(t,e,p,n)}function un(){let t=Math.round(To());if(!t||t<1)return"0";if(t<10)return"10";let e="0";return w(`${t}`,(o,r)=>{r===0?e=o:e+="0"}),e}var Mo=document.documentElement,ha=window.screen,pn=Math.max;function Ea(){let t=window?.innerHeight+window?.scrollY||0;return pn(Mo?.offsetHeight,Mo?.scrollHeight,t)}function ya(){return I()?window.outerHeight:ha?.height}function wa(){return I()?window.outerWidth:ha?.width}function le(){return pn(window.pageYOffset,Mo?.scrollTop)}function va(){return pn(Mo?.clientWidth,window.innerWidth)}function At(t){try{let e=I()?window.blackcrow.localStorage.get(t):window.localStorage.getItem(t);return JSON.parse(e)}catch{}return null}function zt(t){try{return JSON.parse(window.sessionStorage.getItem(t))}catch{}return null}var mn,dn;function tm(){if(typeof dn<"u")return dn;let t,e=A(Yt);if(e){let o=e.split(".");o.shift(),o.shift(),t=o.join(".")}return dn=t,t}function Sa(){if(mn)return mn;let t=P("facebook_id")||tm();return mn=t,t}var ln;function em(){let t=v(window,"Shopify.checkout.customer_id")||v(window,"ShopifyAnalytics.meta.page.customerId")||v(window,"__st.cid");if(t)return t.toString()}function Ia(){if(ln)return ln;let t=em();return ln=t,t}var gn;function om(){try{return JSON.parse(window.atob(A(Lo))).$exchange_id}catch{return}}function ge(){if(gn)return gn;let t=om();return gn=t,t}function Aa(){return window?.ju_config?.ju_vid}function xa(){return window?.bouncex?.cookie?.hardID}function ba(){return window?.bouncex?.cookie?.softID}function Ta(){return window?.edgemesh?.id}function Lt(t,e){try{e&&(I()?(window.blackcrow.localStorage.set(t,JSON.stringify(e)),browser.localStorage.setItem(t,JSON.stringify(e))):window.localStorage.setItem(t,JSON.stringify(e)))}catch{}}function Qt(t){return`${Math.random().toString(36).substring(2,3)}${btoa(t)}`}function _e(t){return t?atob(t.substring(1)):void 0}function Je(t){try{return document.querySelectorAll(`:is(${t})`)}catch{}try{return document.querySelectorAll(`:matches(${t})`)}catch{}try{return document.querySelectorAll(`:-webkit-any(${t})`)}catch{}try{return document.querySelectorAll(`:-moz-any(${t})`)}catch{return[]}}function Pa(t){h.addListener(window,"message",e=>{if(e.origin&&e.origin.indexOf(".attn.tv")>0){let o=e.data.__attentive||{};o&&o.email&&t(o.email)}})}function ka(t){let e=document.getElementById("continue_button"),o=document.querySelectorAll("input[type=email]");e&&o&&h.addListener(e,"click",()=>{t(o[0]&&o[0].value)})}function Vo(){return v(window,"ShopifyCustomer.email")||v(window,"Shopify.checkout.email")||v(window,"Shopify.Checkout.customer.email")}function Ca(){return v(window,"userProperties.email")}function Na(){let t=v(window,"_learnq");if(t&&typeof t.identify=="function")return t.identify().$email}function hn(t){if(t)return t.trim()}function En(t){return new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(t)}function yn(t){let e=hn(t);return e&&En(e)?e:void 0}function wn(t){let e=yn(t);return e?Qt(e):void 0}function Te(t){let e=wn(t);e&&Lt(No,e)}function rm(t,e=()=>{}){t.value&&e(t.value)}function nm(t,e){let o=t.textContent||t.innerText;return o&&(o=o.toLowerCase()),o&&o.indexOf(e.toLowerCase())!==-1}function _n(t){return nm(t,"email")}function im(t){if(t.labels){if(Array.from(t.labels).some(o=>_n(o)))return!0}else if(t.id&&Array.from(document.getElementsByTagName("label")).some(o=>o.htmlFor===t.id&&_n(o)))return!0;if(t.parentNode){let e=t.parentNode;return e.tagName.toLowerCase()==="label"&&_n(e)}return!1}function sm(t){return Array.from(t).filter(o=>im(o))}var Oa='input[type="email"], input[autocomplete~="email"], input[placeholder~="email" i], input[type="text"][id*="email" i], input[type="text"][name*="email" i]';function vn(){let t=Je(Oa);if(!t.length){let e=document.querySelectorAll('input[type="text"]');e.length&&(t=sm(e))}return t}function Uo(t=()=>{}){let e=vn();w(e,o=>{rm(o,t)}),h.addListener(window,"focusout",o=>{let r=o.target;if(r.matches(Oa)||Array.isArray(e)&&e.includes(r)){let n=r.value;n&&t(n)}})}function Ra(t){let e=Vo()||Ca()||Na();e&&t(e),Pa(o=>{t(o)}),ka(o=>{t(o)}),Uo(o=>{t(o)})}function La(t=()=>{}){let e=Vo()||Ca()||Na();return e?(Te(e),t()):(Pa(o=>{Te(o)}),ka(o=>{Te(o)}),Uo(o=>{Te(o),t()})),e}function ct(){let t=At(No)||A(No);return t?_e(t):void 0}function Zt(t,e){var o=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(o>>16);return r<<16|o&65535}function am(t,e){return t<<e|t>>>32-e}function qo(t,e,o,r,n,i){return Zt(am(Zt(Zt(e,t),Zt(r,i)),n),o)}function et(t,e,o,r,n,i,p){return qo(e&o|~e&r,t,e,n,i,p)}function ot(t,e,o,r,n,i,p){return qo(e&r|o&~r,t,e,n,i,p)}function rt(t,e,o,r,n,i,p){return qo(e^o^r,t,e,n,i,p)}function nt(t,e,o,r,n,i,p){return qo(o^(e|~r),t,e,n,i,p)}function cm(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;var o,r,n,i,p,f=1732584193,a=-271733879,g=-1732584194,_=271733878;for(o=0;o<t.length;o+=16)r=f,n=a,i=g,p=_,f=et(f,a,g,_,t[o],7,-680876936),_=et(_,f,a,g,t[o+1],12,-389564586),g=et(g,_,f,a,t[o+2],17,606105819),a=et(a,g,_,f,t[o+3],22,-1044525330),f=et(f,a,g,_,t[o+4],7,-176418897),_=et(_,f,a,g,t[o+5],12,1200080426),g=et(g,_,f,a,t[o+6],17,-1473231341),a=et(a,g,_,f,t[o+7],22,-45705983),f=et(f,a,g,_,t[o+8],7,1770035416),_=et(_,f,a,g,t[o+9],12,-1958414417),g=et(g,_,f,a,t[o+10],17,-42063),a=et(a,g,_,f,t[o+11],22,-1990404162),f=et(f,a,g,_,t[o+12],7,1804603682),_=et(_,f,a,g,t[o+13],12,-40341101),g=et(g,_,f,a,t[o+14],17,-1502002290),a=et(a,g,_,f,t[o+15],22,1236535329),f=ot(f,a,g,_,t[o+1],5,-165796510),_=ot(_,f,a,g,t[o+6],9,-1069501632),g=ot(g,_,f,a,t[o+11],14,643717713),a=ot(a,g,_,f,t[o],20,-373897302),f=ot(f,a,g,_,t[o+5],5,-701558691),_=ot(_,f,a,g,t[o+10],9,38016083),g=ot(g,_,f,a,t[o+15],14,-660478335),a=ot(a,g,_,f,t[o+4],20,-405537848),f=ot(f,a,g,_,t[o+9],5,568446438),_=ot(_,f,a,g,t[o+14],9,-1019803690),g=ot(g,_,f,a,t[o+3],14,-187363961),a=ot(a,g,_,f,t[o+8],20,1163531501),f=ot(f,a,g,_,t[o+13],5,-1444681467),_=ot(_,f,a,g,t[o+2],9,-51403784),g=ot(g,_,f,a,t[o+7],14,1735328473),a=ot(a,g,_,f,t[o+12],20,-1926607734),f=rt(f,a,g,_,t[o+5],4,-378558),_=rt(_,f,a,g,t[o+8],11,-2022574463),g=rt(g,_,f,a,t[o+11],16,1839030562),a=rt(a,g,_,f,t[o+14],23,-35309556),f=rt(f,a,g,_,t[o+1],4,-1530992060),_=rt(_,f,a,g,t[o+4],11,1272893353),g=rt(g,_,f,a,t[o+7],16,-155497632),a=rt(a,g,_,f,t[o+10],23,-1094730640),f=rt(f,a,g,_,t[o+13],4,681279174),_=rt(_,f,a,g,t[o],11,-358537222),g=rt(g,_,f,a,t[o+3],16,-722521979),a=rt(a,g,_,f,t[o+6],23,76029189),f=rt(f,a,g,_,t[o+9],4,-640364487),_=rt(_,f,a,g,t[o+12],11,-421815835),g=rt(g,_,f,a,t[o+15],16,530742520),a=rt(a,g,_,f,t[o+2],23,-995338651),f=nt(f,a,g,_,t[o],6,-198630844),_=nt(_,f,a,g,t[o+7],10,1126891415),g=nt(g,_,f,a,t[o+14],15,-1416354905),a=nt(a,g,_,f,t[o+5],21,-57434055),f=nt(f,a,g,_,t[o+12],6,1700485571),_=nt(_,f,a,g,t[o+3],10,-1894986606),g=nt(g,_,f,a,t[o+10],15,-1051523),a=nt(a,g,_,f,t[o+1],21,-2054922799),f=nt(f,a,g,_,t[o+8],6,1873313359),_=nt(_,f,a,g,t[o+15],10,-30611744),g=nt(g,_,f,a,t[o+6],15,-1560198380),a=nt(a,g,_,f,t[o+13],21,1309151649),f=nt(f,a,g,_,t[o+4],6,-145523070),_=nt(_,f,a,g,t[o+11],10,-1120210379),g=nt(g,_,f,a,t[o+2],15,718787259),a=nt(a,g,_,f,t[o+9],21,-343485551),f=Zt(f,r),a=Zt(a,n),g=Zt(g,i),_=Zt(_,p);return[f,a,g,_]}function fm(t){var e,o="",r=t.length*32;for(e=0;e<r;e+=8)o+=String.fromCharCode(t[e>>5]>>>e%32&255);return o}function um(t){var e,o=[];for(o[(t.length>>2)-1]=void 0,e=0;e<o.length;e+=1)o[e]=0;var r=t.length*8;for(e=0;e<r;e+=8)o[e>>5]|=(t.charCodeAt(e/8)&255)<<e%32;return o}function pm(t){return fm(cm(um(t),t.length*8))}function mm(t){var e="0123456789abcdef",o="",r,n;for(n=0;n<t.length;n+=1)r=t.charCodeAt(n),o+=e.charAt(r>>>4&15)+e.charAt(r&15);return o}function dm(t){return unescape(encodeURIComponent(t))}function lm(t){return pm(dm(t))}function gm(t){return mm(lm(t))}function Sn(t){return gm(t)}function te(t){return(L("experiments")||[]).find(o=>o.name===t)||{}}var Da={checkout_abandonment:"ca",klaviyo_overlay:"ko",sticky_call_to_action:"pb"};function xt(t){let e=te(t);if(!e.name)return e;let o=vt(x());function r(i,p){let f,a;if(Array.isArray(i)&&i.length&&i[0].value&&typeof i[0].percent=="number")f=`${t}_${p}`,a=i;else if(i.allocations){let g=i.name||p;f=`${t}_${g}`,a=i.allocations}if(f&&a){let g=Da[t]||t,_=i.short_name||p;return q({name:f,allocations:a,force:o[`bcai_${g}_${_}`]})}return i}function n(i,p){if(!i)return i;let f=Array.isArray(i)?[]:{},a;return Object.keys(i).forEach(g=>{let _=p?`${p}_${g}`:g;a=r(i[g],_),f[g]=typeof a=="object"?n(a,_):a}),f}return{name:e.name,active:e.active,data:n(e.data)}}function In(){if(xt("pwo_additional_context")?.active){let e=ct();if(e)return Sn(`${e}bcai${u}`)}}function Fa(){return window?.__fudge__?.deviceId}var Ba=t=>()=>P(t)||zt(t)||At(t)||A(t),Go=t=>()=>A(t),Q=(t,e)=>{let o;return()=>(o=o||e(),{platform:t,id:o})},_m=Q("fa",Sa),hm=Q("ga",Xt),Em=Q("cdp",Ba("cdp_id")),ym=Q("shop_cid",Ia),wm=Q("shop_aid",Go("_shopify_y")),vm=Q("kl_cid",ge),Sm=Q("attv_cid",Go("__attentive_id")),Im=Q("ju_cid",Aa),Am=Q("bx_hid",xa),xm=Q("bx_sid",ba),bm=Q("tab_cid",Ba("taboola global:user-id")),Tm=Q("bc_cid",Go(qe)),Pm=Q("_bc_i",Ct),km=Q("_bt_uid",Go("tag_user_id")),Cm=Q("_bc_em",In),Nm=Q("edme_id",Ta),Om=Q("fdg_id",Fa);function An(){return[_m(),hm(),Em(),ym(),wm(),vm(),Sm(),bm(),Tm(),Pm(),Im(),Am(),xm(),km(),Cm(),Nm(),Om()]}var $a;function xn(){return $a||A(Ur)||void 0}function Ma(t){t&&($a=t,V(Ur,t,1051200))}function Va(){let t=xn()?.split("_",3);if(t)return{page_correlation_id:t[0],session_id:t[1]};s.error(new xe("Attempted to parse historyId before it has been set!"))}var Ye=z("page"),Rm={page:{ignored:!1,log_purchase:!1}};function Ua(t){return{page:{ignored:t.ignored,log_purchase:t.log_purchase}}}function qa(t={},e){let o=P("page_id"),r=Rm;o!==void 0&&t?w(t.filter(f=>f.pageName),f=>{if(f.pageName===o)return r=Ua(f),!1}):o===void 0&&t&&w(t.filter(f=>f.pattern),f=>{try{let a=e.match(f.pattern);if(a){if(o=f.pageName,r=Ua(f),a.length>1)for(let g=1;g<a.length;g+=1)o=o.replace(`$${g}`,a[g]);return!1}}catch{}}),o||(o="other");let n=Ye.get("lastUrl"),i=Ye.get("lastId"),p=o!==i||e!==n;return Ye.set("lastUrl",e),Ye.set("lastId",o),{id:o,config:r,isNewPage:p,currentUrl:e,lastUrl:n}}function bt(){return Ye.get("lastId")}var Ga={};function Ha(t){Ga=t}function Wa(t,e,o){let r={};return w(Ga,(n,i)=>{typeof n=="function"?r[i]=n(t[i],e,o):typeof n<"u"&&(r[i]=n)}),r}function Lm(t,e){return e||(t==="_shopify_y"?"aid":t)}function Dm(t){let e,o=t.value,r=t.nameOverride,n=A(o);return o&&n&&(e={name:Lm(o,r),value:n}),e}function it(t){let e=[];return t.forEach(o=>{if(o.source==="cookie"){let n=Dm(o);n&&e.push(n)}}),e}function Tt(t,e){let o=[];return t&&e&&o.push({name:t,value:e}),o}function Fm(){let t="0123456789abcdef";return t.charAt(Math.floor(Math.random()*t.length))}function Xe(t){return new Array(t).fill(".",0,t).map(()=>Fm()).join("")}function ze(){return`${Xe(8)}-${Xe(4)}-${Xe(4)}-${Xe(4)}-${Xe(12)}`}function Pe(t){return t!==void 0?(t*.01).toLocaleString("en-US",{currency:"USD",minimumFractionDigits:2,useGrouping:!1}):void 0}function Qe(t){return t?typeof t=="string"?Pe(t.replace(/\D/g,"")*1):t.toString():"0.00"}function Ho(t){let[e]=it(t);if(e?.value)return{external_id:e.value}}function Ka(){let t=document.getElementById("shopify-pay-alternate-title");if(v(window,"ShopifyPay")&&t)return{custom_dimensions:{payment_type:"shop-pay"}};if(v(window,"Shopify.checkout")){let e=document.getElementsByClassName("payment-icon");if(e.length&&e[0].textContent)return{custom_dimensions:{payment_type:e[0].textContent.trim()}}}}function bn(){let t={},e=v(window,"Shopify.checkout");if(e&&(S(t,{event_id:e.order_id,total_price:Qe(e.total_price),currency:e.presentment_currency,shipping_method:e.shipping_rate?.title,shipping_price:Qe(e.shipping_rate?.price),cart:e.line_items&&e.line_items.map(o=>({id:o.product_id,price:Qe(o.price),quantity:o.quantity,categories:[o.title],msrp:Qe(o.line_price),color:o.variant_title,brand:o.vendor}))}),e.discount)){let o=e.discount;S(t,{discounts:[{code:o.code,discount_amount:o.amount,discount_currency:e.currency,discount_percent:o.rate,applicable:o.applicable,reason:o.reason}]})}return t}function Tn(t){return{destination_airport:t.destination_airport,destination_city:t.destination_city,destination_country:t.destination_country,destination_state:t.destination_state,end_date:t.end_date,lodging_id:t.lodging_id,origin_airport:t.origin_airport,rooms:t.rooms,start_date:t.start_date,travelers:t.travelers}}function Pn(){return P("partner_controlled_experiments")}var Bm=.1,ja=q({name:"performance_sampling",allocations:[{percent:Bm,value:!0}]});function Ze(t=`${m}js/core/`){try{let e=jt("resource").find(o=>o.name.includes(t));return e&&e.startTime}catch{s.error(new Rt("Unable to get start time: Browser does not support PerformanceResourceTiming interface"));return}}function $m(){try{let t=jt("resource").find(e=>e.name.includes("gtm.js"));return t&&t.startTime}catch{s.error(new Rt("Unable to get start time: Browser does not support PerformanceResourceTiming interface"));return}}function Ja(){try{let t=jt("resource").find(e=>e.name.includes(`${m}js/core/`));if(t){let{name:e}=t;if(e.includes("shopify-init"))return"SHOPIFY";if(e.includes("source=gtm"))return"GTM"}return"JS"}catch{s.error(new Rt("Unable to get start time: Browser does not support PerformanceResourceTiming interface"));return}}function Mm(){let t=Ze(),e=Ja();if(t&&e==="GTM"){let o=$m();if(o)return t-o}}function Vm(){try{let t=jt("resource").find(e=>e.name.includes("https://api.blackcrow.ai/v1/events/view"));return t&&t.startTime}catch{s.error(new Rt("Unable to get time to view request: Browser does not support PerformanceResourceTiming interface"));return}}function Ya(){if(ja){let t=Ze(),e=Ja()||"unknown",o=e==="GTM"?Mm()||"unknown":"N/A";t&&tt(`Initial script load after ${t} ms`,{"script.start_time":t,"script.load_method":e,"script.time_since_gtm_start":o,"view.url":P("page_url")||x(),"view.referrer":P("page_referrer_url")||at()})}}function Xa(){if(ja){let t=Vm()-Ze();t&&tt(`Time to initiate view request: ${t} ms`,{"script.time_to_view":t,"view.url":P("page_url")||x(),"view.referrer":P("page_referrer_url")||at()})}}function za(){return{nb:{active:!!window.Northbeam},tw:{active:!!window.TriplePixel},bt:{active:!!window.edgetag}}}var T={VIEW:"view",PURCHASE:"purchase",DELAYED_PURCHASE:"delayed_purchase",BAD_ACTOR_TIMEOUT:"bad_actor_timeout",BAD_ACTOR_BEFOREUNLOAD:"bad_actor_beforeunload",PWO_IMPR:"pwo_impression",PWO_EMAIL_LEAD:"pwo_email_lead",PWO_SMS_LEAD:"pwo_sms_lead",PWO_CLOSE:"pwo_close",PWO_OPEN_ATTEMPT:"pwo_open_attempt",PWO_DECISION:"pwo_decision",CA_CART_CHECKOUT:"ca_cart_checkout",CA_PAYMENT:"ca_payment",CA_SHIPPING_EXIT:"ca_shipping_exit",CA_TEST:"ca_test",DEVICE_MOTION:"device_motion",DISCOUNT_APPLIED:"discount_applied",DISCOUNT_INTERACTION:"discount_interaction",MARKETING_CHECKOUT_EVENT:"marketing_checkout_event",KLAVIYO_OPEN:"klv_open",KLAVIYO_CLOSE:"klv_close",KLAVIYO_LEAD:"klv_lead",KLAVIYO_SPLIT:"klv_split",PRED_WELCOME_PLATFORM_LOADED:"pred_welcome_platform_loaded",OUT_OF_STOCK:"out_of_stock",PAYMENT_METHOD_CLICK:"payment_method_click",HEADER_CLICK:"header_click",PREDICTIVE_BUTTON:"predictive_button",PREDICTIVE_BUTTON_DECISION:"predictive_button_decision",PRED_WELCOME_DECISION:"pred_welcome_decision",EXIT_INTENT:"exit_intent",RB_ACTIVE:"rb_active",PRED_WELCOME_OPEN_ATTEMPT:"pred_welcome_open_attempt",PRED_WELCOME_OPEN_LISTENER_SET:"pred_welcome_open_listener_set"};function Wo(){return{api_client_type:"JS",api_client_version:"12248",api_client_source:Mr()}}function Dt(t){let e=P(`custom_${t}`);return typeof e=="object"?Array.isArray(e)?String(e):JSON.stringify(e):e}function Um(t,...e){return t=t||{},w(e,o=>{w(o,(r,n)=>{(r||r===0||r===!1)&&(t[n]=r)})}),t}function qm(){return{coupon:P("coupon"),shipping_method:P("shipping_method"),shipping_price:P("shipping_price"),total_price:P("total_price"),zip_code:P("zip_code"),custom_1:Dt(1),custom_2:Dt(2),custom_3:Dt(3),custom_4:Dt(4),custom_5:Dt(5),custom_6:Dt(6),custom_7:Dt(7),custom_8:Dt(8),custom_9:Dt(9),custom_10:Dt(10),traffic_groups:P("traffic_groups"),partner_controlled_experiments:Pn(),referrer_source:P("referrer_source"),referrer_medium:P("referrer_medium"),referrer_campaign:P("referrer_campaign"),referrer_term:P("referrer_term"),cart:P("cart"),currency:P("currency"),is_logged_in_user:P("user_is_logged_in"),user_has_subscription:P("user_has_subscription")}}function Gm(t){let e=be();return{metadata:Wo(),build:"12248",site_name:u,custom_dimensions:P("custom_dimensions"),device_info:Z(),device_width:wa(),device_height:ya(),page_id:t,page_url:P("page_url")||x(),page_referrer_url:P("page_referrer_url")||at(),page_title:P("page_title")||Ae(),page_time:un(),visitor_id:e.id,internal_id:Ct(),member_id:P("member_id"),history_id:xn(),user_identifiers:An(),user_metadata:{visitor_id:{source:e.source,name:e.name,fallback_used:e.fallback}},bundle_load_start:Ze(),attr:za()}}function Hm(t){return t?["view","purchase","delayed_purchase"].includes(t):!0}function Wm(t){return t?["view","purchase"].includes(t):!0}function Km(t){return t?t==="purchase":!0}var jm={travel:Tn};function Jm(){let t={};return w(jm,(e,o)=>{let r=P(`${o}`);r&&(t[o]=e(r))}),t}function Ym(t){["custom_dimensions","event_id"].forEach(o=>{t[o]===void 0&&(t[o]="")})}function Xm(t){return[T.PWO_DECISION,T.PWO_OPEN_ATTEMPT,T.PWO_IMPR,T.PWO_EMAIL_LEAD,T.PWO_SMS_LEAD,T.PWO_CLOSE].includes(t)}function kn(t,e={}){let o=e.page_id||bt(),r=Gm(o);return Hm(t)&&(r={...r,...qm()},S(r,Jm(),bn())),Km(t)&&r.purchase_type===void 0&&(r.purchase_type=""),Xm(t)&&(r={...r,...e}),Ym(r),w(r,(n,i)=>{typeof e[i]<"u"&&(r[i]=e[i])}),Wm(t)||S(r,{custom_dimensions:Va()}),Um({},r,Wa(r,t,o))}var zm=500,Cn={},Nn={};function On(){Nn={},Cn={}}function Qa(t){return Nn[t]||0}function Qm(t){let e=!1,o=t==="view"?1:L(`config.events.${t}.dedupe.limit_per_page`);return o&&(e=Qa(t)>=o),e?"limit_per_page":""}function Zm(t,e){return t.startsWith("datalayer-")||[T.PREDICTIVE_BUTTON,T.KLAVIYO_OPEN].includes(t)?"":e-(Cn[t]||0)<zm?"debounce":""}function td(t,e,o){let r="",n=e.event_id,i=L(`config.events.${t}.dedupe.time_threshold`);if(n||i){let p=At(qr)||{},f=p[t]||{};i&&o-(f.time||0)<parseInt(i,10)&&(r="time_threshold"),!r&&n&&n===f.id&&(r="repeat_id"),r||(p[t]={time:o,id:n},Lt(qr,p))}return r}function Za(t,e){let o=Date.now(),r=Zm(t,o)||Qm(t)||td(t,e,o);return r||(Nn[t]=Qa(t)+1,Cn[t]=o),r}function ke(t=""){let e=typeof t=="string"?t:JSON.stringify(t);return new Blob([e]).size}function Rn(t,e){let o=new Error(t);return o.name=`${e||""}RequestError`,o.stack=W(o.stack,1),o}var Ln="EventsAPI",tc=8192;function ec(t,e){ke(t)>tc&&s.error(new Rn(`Body for ${e} exceeds ${tc} bytes`),Ln)}function O(t,e,o,r){let n=`https://api.blackcrow.ai/v1/events/${t}?`;Vt(u)&&(n=`https://api.sandbox.blackcrow.ai/v1/events/${t}?`);let i=kn(t,e),p=Za(t,i);if(p){s.error(new _t(`Duplicate ${t}: ${p}`,Ln));return}let f=JSON.stringify(i);ec(f,`event ${t}`);let a={servletName:Ln,method:"POST",cache:"no-cache",body:f};Y(`request: ${t}`,{body:f}),U(n,a,o,r)}function oc(t){let e="https://api.blackcrow.ai/v1/events/platform?";Vt(u)&&(e="https://api.sandbox.blackcrow.ai/v1/events/platform?");let o=JSON.stringify(t);ec(o,"platform event"),Jt(e,o)}var E={START:"start",SESSION:"session",SET:"set",EXTEND:"extend",REFRESH:"refresh",PARTNER_EVENT:"partner_event",VIEW:"view",VIEW_RESPONSE:"view_response",PURCHASE:"purchase",SCORES_UPDATE:"scores_update",PWO_IMPR:"pwo_impression",PWO_EMAIL_LEAD:"pwo_email_lead",PWO_SMS_LEAD:"pwo_sms_lead",PWO_CLOSE:"pwo_close",PWO_OPEN_ATTEMPT:"pwo_open_attempt",OVERRIDES:"overrides",CLEAR_OVERRIDES:"clear_overrides",DISCOUNT_APPLIED:"discount_applied",DISCOUNT_INTERACTION:"discount_interaction",OUT_OF_STOCK:"out_of_stock",CA_CART_CHECKOUT:"ca_cart_checkout",CA_PAYMENT:"ca_payment",CA_SHIPPING_EXIT:"ca_shipping_exit",HEADER_CLICK:"header_click",KLAVIYO_OPEN:"klv_open",KLAVIYO_CLOSE:"klv_close",KLAVIYO_LEAD:"klv_lead",PAYMENT_METHOD_CLICK:"payment_method_click",PREDICTIVE_BUTTON:"predictive_button",EXIT_INTENT:"exit_intent",RB_ACTIVE:"rb_active",PRED_WELCOME_PLATFORM_LOADED:"pred_welcome_platform_loaded",ADD_TO_CART:"add_to_cart",INITIATE_CHECKOUT:"initiate_checkout"};var ed=["purchase","referral","call","update_account"],od=["purchase","referral","call"];function rc(t){return ed.indexOf(t)!==-1}function rd(t){let e=t.trigger,o=t.data||{};e==="call"&&(o.purchase_type="call"),od.indexOf(e)!==-1&&(e=T.PURCHASE),O(e,o)}function nc(){k("platform",E.PARTNER_EVENT,rd)}function Dn({appName:t,eventName:e,data:o,sendFn:r}){let n={namespace:c,app_name:t,event_name:e,data:o};if(r)r(n,"*");else try{window.top.postMessage(n,"*")}catch(i){if(i instanceof DataCloneError)s.error(new Rt("Attempting to post invalid message object"));else throw i}}var nd=z("bound_events"),id=z("triggered_events");function st(t,e,o,r){r=r||{},r.noCache||id.push(`${t}.${e}`,{data:o,onExec:r.onExec});let n=nd.get(`${t}.${e}`);w(n,i=>{je(i,o,r.onExec)}),r.postMessage&&Dn({appName:t,eventName:e,data:o})}function D(t,e=()=>{},o=9,r=300,n=!1){try{return t()}catch(i){return o?h.setTimeout(()=>D(t,e,o-1,n?r*2:r,n),r):e(i)}}function sd(){I()||(s.postMessageEventListener&&h.removeListener(window,"message",s.postMessageEventListener),s.postMessageEventListener=t=>{let e=t.data||{};e.namespace===c&&(Y(`trigger: ${e.event_name}`,e.data),st(e.app_name||"platform",e.event_name,e.data))},h.addListener(window,"message",s.postMessageEventListener))}function Ce(t){if(!t)return;let e=t.app_name||"platform",o=t.data,r=t.trigger;if(r){Y(`trigger: ${r}`,t),r===E.EXTEND?Do(o):r===E.SET?Fo(o):rc(r)?st(e,E.PARTNER_EVENT,t):st(e,r,o);return}let n=t.bind;if(n){Y(`bind: ${n}`,t),k(e,n,t.callback,{origEvent:t});return}Y("unrecognized",t)}function ic(){w(d,t=>{Ce(t)})}function sc(){return D(()=>sd(),t=>s.error(t)),Ce}function Fn(){sc(),s.push=Ce,s.history=ia}var ac="IntentProperties";function Ut(t){return t?v(window[ac],t):window[ac]}function Bn(){let t=Ut();if(t){let e={page_id:t.page_id,visitor_id:t.visitor_id||t.publisher_user_id,member_id:t.member_id,user_is_logged_in:t.is_logged_in_user,user_has_subscription:t.user_has_subscription,page_url:t.page_url,page_referrer_url:t.page_referrer_url,page_title:t.page_title,referrer_source:t.referrer_source,site_currency:t.site_currency,site_country:t.site_country,site_language:t.site_language,site_name:t.site_name,traffic_groups:t.traffic_groups,custom_1:t.site_custom_1,custom_2:t.site_custom_2,custom_3:t.site_custom_3,custom_4:t.site_custom_4,custom_5:t.site_custom_5,custom_6:t.site_custom_6,custom_7:t.site_custom_7};t.cart&&(e.cart=t.cart),t.travel&&(e.travel=S({},{start_date:t.travel.start_date,end_date:t.travel.end_date,origin_airport:t.travel.origin_airport,destination_airport:t.travel.destination_airport,travelers:t.travel.travelers})),Ce({trigger:E.EXTEND,data:e})}}var ad=z("bound_events"),cd=z("triggered_events");function $n(){ad.clear(L("config.clearBindings")),cd.clear()}function to(){let t=v(window,"Shopify.checkout.total_tax");if(t)return t;let e=document.querySelectorAll("[data-checkout-total-taxes-target]");return e.length?e[0].textContent.startsWith("$")?e[0].textContent.trim().substring(1):e[0].textContent.trim():"0.00"}function C(t){/complete|interactive|loaded/.test(document.readyState)?t():h.addListener(document,"DOMContentLoaded",()=>{t()})}function fd(){return{total_price:Ut("total_price"),coupon:Ut("coupon"),shipping_method:Ut("shipping_method"),shipping_price:Ut("shipping_price"),zip_code:Ut("zip_code")}}function cc(){let t=Ka(),e={custom_dimensions:{tax_amount:window.Shopify?to():void 0},total_price:window.cart_json?.total_price};return S({},t,e)}function ud(){window.IntentProperties&&Do(fd()),V(Xs,!0,1051200),O(T.PURCHASE,cc())}function Mn(){L("page.log_purchase")&&(ud(),C(()=>{O(T.DELAYED_PURCHASE,cc())}))}function uc(t){h.addListener(window,"message",e=>{if(e.origin&&e.origin.indexOf(".attn.tv")>0){let o=e.data.__attentive||{};o&&o.phone&&t(`+1${o.phone}`)}})}function pc(t){let e=document.getElementById("continue_button"),o=document.querySelectorAll("input[type=tel]");e&&o&&h.addListener(e,"click",()=>{if(o[0]){let r=o[0].value;t(r)}})}function mc(){return v(window,"Shopify.checkout.phone")}function dc(){let t=v(window,"_learnq");if(t&&typeof t.identify=="function")return t.identify().$phone}function pd(t){let e=t.match("\\+")?t:`+1${t}`;return e=e.replace(/^(\+)|\D/g,"$1"),e}function md(t){return new RegExp(/^\+\d{10,14}$/g).test(t)}function Vn(t){let e=pd(t);return md(e)?Qt(e):void 0}function Ko(t){let e=Vn(t);e&&Lt(Oo,e)}function dd(t,e=()=>{}){t.value&&e(t.value)}var fc='input[type="tel"], input[autocomplete~="tel"], input[type="text"][id*="phone" i], input[type="text"][name*="phone" i]';function lc(t=()=>{}){let e=Je(fc);w(e,o=>{dd(o,t)}),h.addListener(document,"focusout",o=>{let r=o.target;if(r.matches(fc)){let n=r.value;n&&t(n)}})}function gc(t){let e=mc()||dc();e&&t(e),uc(o=>{t(o)}),pc(o=>{t(o)}),lc(o=>{t(o)})}function _c(t=()=>{}){let e=mc()||dc();return e?(Ko(e),t()):(uc(o=>{Ko(o)}),pc(o=>{Ko(o)}),lc(o=>{Ko(o),t()})),e}function jo(){let t=At(Oo)||A(Oo);return t?_e(t):void 0}function Ft(){return!!v(window,"Shopify")}function eo(){return Ft()&&X()?.includes("products")}function ld(){return Ft()&&X()==="/"}function ee(){return!!v(window,"Shopify.Checkout")}function gd(){let t=v(window,"Shopify.Checkout.isOrderStatusPage"),e=v(window,"Shopify.checkout");return t!==void 0||e!==void 0}function oe(){return v(window,"Shopify.Checkout.currency")||v(window,"cart_json.currency")||v(window,"Shopify.currency.active")||v(window,"afterpay_shop_currency")}function Jo(){return v(window,"Shopify.Checkout.totalPrice")?.toString()}function Pt(){if(!Ft())return;let t=v(window,"Shopify.Checkout.step");if(t)switch(t){case"payment_method":return"payment";case"shipping_method":return"shipping";case"contact_information":return"contact";case"thank_you":return"confirmation";default:return t}return gd()?"order_status":eo()?"products":ld()?"index":X()}function _d(t){let e=document.getElementById("continue_button"),o=document.getElementById("checkout_shipping_address_first_name"),r=document.getElementById("checkout_shipping_address_last_name");e&&o&&r&&h.addListener(e,"click",()=>{t(o.value,r.value)})}function hc(){_d((t,e)=>{Lt(jr,Qt(t)),Lt(Jr,Qt(e))})}function Ec(){let t=At(jr);return t?_e(t):void 0}function yc(){let t=At(Jr);return t?_e(t):void 0}function hd(t){if(t)return t.replace(/['.,/#!$%^&*;:{}=\-_`~()]/g,"")}function Yo(t){let e=hd(t);return e?Qt(e):void 0}function Ed(t,e){let o=t[e];if(o){let{first_name:r,last_name:n}=o;if(n){let i={fn:r,ln:n};return r&&(i.fln=`${r} ${n}`),S({},i)}}}function wc(){let t=[],e=Ft()&&v(window,"Shopify.checkout");return e&&["billing_address","credit_card","shipping_address"].forEach(o=>{let r=Ed(e,o);r&&t.push(r)}),t.length?t:void 0}function kt(t,e){let o=document.createElement(t);return Object.keys(e).forEach(n=>{o[n]=e[n]}),o}function vc(t,e){let o=encodeURIComponent(t);return e&&(o=o.replace(/%2C/g,",")),o}function ft(t,e=!0){let o=[];return w(t,(r,n)=>{if(r!=null&&r!==""){let i=typeof r;i==="function"?r=r.name:i==="object"&&(Array.isArray(r)?r=r.toString():r=JSON.stringify(r)),o.push(`${vc(n,e)}=${vc(r,e)}`)}}),o.join("&")}function Un(t){if(!t||!crypto||!crypto.subtle||typeof crypto.subtle.digest!="function")return Promise.resolve(void 0);let e=new TextEncoder().encode(t);return crypto.subtle.digest("SHA-256",e).then(o=>Array.from(new Uint8Array(o))).then(o=>o.map(r=>r.toString(16).padStart(2,"0")).join(""))}function Xo(t){let e=Object.keys(t).map(o=>Un(t[o]).then(r=>{t[o]=r}));return Promise.all(e).then(()=>S({},t))}var yd="facebook_ads";function zo(){let t=jo(),e={em:ct(),ph:t&&t.replace(/\D/g,""),fn:Ec(),ln:yc()};return S({},e)}function Sc(t,e,o){let r=`https://www.facebook.com/tr?id=${t}&ev=${e}`;return Xo(zo()).then(n=>{w(n,(i,p)=>{r+=`&ud[${p}]=${i}`})}).then(()=>{w(o,(i,p)=>{r+=`&cd[${p}]=${i}`});let n=A(Yt);return n&&(r+=`&fbp=${n}`),r})}function Ic(t,e,o){return Sc(t,e,o).then(r=>{let n=kt("img",{width:1,height:1,src:r});n.style.display="none",document&&document.body&&typeof document.body.append=="function"&&document.body.append(n)})}function qn(t,e,o,r){return Sc(t,e,o).then(n=>{n+="&",n+=ft({dl:x(),rl:document.referrer}),D(()=>{K(n,{method:"GET"},r,i=>{throw i})},i=>s.error(new Error(`${yd} api call failed with message ${i.message}`)),9,300,!0)})}var re="measure";function F(t,e="|"){return t.filter(o=>o!=null&&o!=="").join(e)}function B(t){let e=Number(t);return isNaN(e)?t:e}function Ac(t){let e=`${t}`;return e.length===1?`0${e}`:e}function Qo(t,e=""){if(t)return`${t.getFullYear()}${e}${Ac(t.getMonth()+1)}${e}${Ac(t.getDate())}`}function Zo(){return window.ShopifyAnalytics&&window.ShopifyAnalytics.lib&&window.ShopifyAnalytics.lib.config&&window.ShopifyAnalytics.lib.config["Facebook Pixel"]&&window.ShopifyAnalytics.lib.config["Facebook Pixel"].conversionsAPIEnabled}var b="Integration not available";var xc=0;function oo(){return xc+=1,xc}function Gn(t,e){return typeof t=="string"&&typeof e=="string"?t.localeCompare(e,void 0,{sensitivity:"accent"})===0:t===e}function Hn(t,e="PWO",o=["formBuckets","overlayBuckets","overlayBuckets_triggerBuckets","overlayBuckets_triggerBuckets_formBuckets"]){if(t?.overlaySetting===void 0||t?.overlaySetting===null)return t;let r=vt(x());function n(p,f){let a,g;if(Array.isArray(p)&&p.length){let _=JSON.parse(JSON.stringify(p));typeof _[0].percent!="number"&&o.includes(f)&&(_[0].percent=1),typeof _[0].percent=="number"&&(a=`${e}_${f}`,g=_.map(y=>({percent:y.percent,value:{...y}})))}if(a&&g){let _=e,y=p.short_name||f;return q({name:a,allocations:g,force:r[`bcai_${_}_${y}`]})}return p}function i(p,f){if(p==null)return p;let a=Array.isArray(p)?[]:{},g;return Object.keys(p).forEach(_=>{let y=f?`${f}_${_}`:_;g=n(p[_],y),a[_]=typeof g=="object"?i(g,y):g}),a}return{...t,overlaySetting:i(t.overlaySetting)}}function bc(t){let e=t?.formBuckets?.formConfig;return t?.overlayBuckets?.triggerBuckets?.formBuckets?.formConfig!==void 0&&Object.keys(t.overlayBuckets.triggerBuckets.formBuckets.formConfig).length>0&&(e=t.overlayBuckets.triggerBuckets.formBuckets.formConfig),{formId:de(Z()).deviceType==="mobile"?e?.mobile:e?.desktop,profile:e?.profile}}function qt(t){if(t){let e=L("apps")||[];if(e)return e.find(o=>Gn(o.app,t))||{}}return{}}function tr(t){let e=qt(t).platforms||[],o=[];return e.forEach(r=>{o.push(r.platform.toLowerCase())}),o}function M(t,e){if(t&&e){let o=qt(t);if(o)return(o.platforms||[]).find(i=>Gn(i.platform,e))||{}}return{}}function Ne(t){return t?Hn(qt(t),t).overlaySetting||{}:{}}function ne(t){return t?qt(t).identitySetting||{}:{}}function R(t){let e=new Error(t);return e.name="GlobalInterfaceError",e.status="warn",e.stack=W(e.stack,1),e}function Wn(){(function(t,e,o,r,n,i,p){t.fbq||(n=t.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)},t._fbq||(t._fbq=n),n.push=n,n.loaded=!0,n.version="2.0",n.queue=[],i=e.createElement(o),i.async=!0,i.src=r,p=e.getElementsByTagName(o)[0],p.parentNode.insertBefore(i,p))})(window,document,"script","https://connect.facebook.net/en_US/fbevents.js")}function er(t){return e=>{e.message===b?s.error(new R(t)):s.error(e)}}function or(t,e){I()||(Wn(),window.fbq("init",t,e))}var Oe="facebook_ads",Pc="trackCustom";function kc(t,e){window.fbq("init",t,e),Mc({location:"init"},"FB init event not sent")}function Cc(t){if(typeof window.fbq!="function"||typeof window.fbq.getState!="function")throw new Error(b);if(typeof window.fbq.getState().then=="function")window.fbq.getState().then(({pixels:e})=>{e&&e.length>0&&t(e)});else if(window.fbq.getState().pixels&&window.fbq.getState().pixels.length>0)t(window.fbq.getState().pixels);else throw new Error(b)}function rr(){return L("facebookAccounts")||[]}function Nc(t){return t===void 0?Zo():t}function Kn(){return F([c,"validation"])}function Oc(t){t.forEach(e=>{let o=e.pixelId,r=e.advancedMatching;if(o){let n=Nc(r)?zo():{};I()?qn(o,Kn(),n):kc(o,n)}})}function wd(t,e){let o=rr();o.length&&Oc(o,!0),e()}function vd(t,e){Wn();let o=rr();function r(){Cc(n=>{n.forEach(i=>{Nc()&&kc(i.id,zo())})})}D(()=>{if(typeof window.fbq!="function")throw new Error(b);o.length?Oc(o):r(),e()},er(`${Oe} globals not found`))}function Rc(t,e,o){return function(){typeof t=="function"&&t(Oe,{eventName:e,eventObject:o})}}function Lc(t,e,o,r){let n=Rc(r,e,o),i=rr();i.length&&i.forEach(p=>{let f=p.pixelId;qn(f,e,o,n)})}function Dc(t,e,o,r){let n=Rc(r,e,o);Cc(()=>{window.fbq(Pc,e,o),n()})}function Sd(t,e){rr().forEach(r=>{let n=r.pixelId;n&&Ic(n,t,e)})}function Fc(t,e,o,r){return n=>(Sd(t,e),typeof r=="function"&&r(`${Oe}`,{eventName:t,eventObject:e},"score_push_img_pixel"),o(n))}function Id(t){return`${c}_${t}`}function Ad(t,e,o){let r;return t===re?r=F([c,o],"_"):r=F([e,o]),r}function xd(t,e){return{app_name:t,integration_product:e.integration_product,conversion_product:e.conversion_product,conversion_type:e.conversion_type,comparison_population:e.comparison_population,comparison_group:e.comparison_group,comparison_type:e.comparison_type,threshold_setter:e.threshold_setter,threshold_group_count:e.threshold_group_count,score:B(e.score),event_date:Qo(new Date,"-"),eventDate:Qo(new Date)}}function Bc(t,e){let o=Id(t);return{eventName:Ad(t,o,e.integration_product),eventObject:xd(o,e)}}function bd(t,e,o){if(!t)return;let r=Bc(e,t);Lc(e,r.eventName,r.eventObject,o)}function Td(t,e,o){if(!t)return;let r=Bc(e,t),n=r.eventName,i=r.eventObject;D(()=>Dc(e,n,i,o),Fc(n,S({},i,{eventHitId:oo()}),er(`${Oe} globals not found`),o),80,150)}function $c(){let t=M("target",Oe);return t&&Object.keys(t).length>0}function Pd(t){if($c()){let e=Kn();Lc("target",e,S({},t,{eventHitId:oo()}))}}function Mc(t,e){if($c()){let o=Kn();D(()=>Dc("target",o,S({},t,{eventHitId:oo()})),Fc(o,S({},t,{eventHitId:oo()}),er(e),80,150))}}function kd(t,e,o){I()?bd(t,e,o):Td(t,e,o)}function Tc(t,e){I()?wd(t,e):vd(t,e)}function Cd(t,e){I()?Pd(t):Mc(t,e)}var Bt={eventHitType:Pc,name:Oe,identify:Tc,setup:Tc,send:kd,sendValidationEvent:Cd};var ht="audience";function ut(t){return rn(`apps.${t}`)}var Vc="o",Uc=`${c}_audience|score_update`,jn=`${c}_score`,qc=`contextData.${jn}`;function H(t,e){return(o,r,n)=>{if(!o)return;function i(p){p.message===b?s.error(new R(`${t} globals not found`),{appName:r}):s.error(p)}D(()=>e(o,r,n),i)}}var Jn="adobe_analytics";function Od(t,e,o){let r=v(window,"s.tl");if(typeof r=="function"){let n={contextData:{[jn]:B(t.score)},linkTrackVars:qc};r(!0,Vc,Uc,n),typeof o=="function"&&o(Jn,n);return}throw new Error(b)}var Yn={name:Jn,send:H(Jn,Od)};var Gc="event";var Xn="dynamic_yield";function Rd(t){return t==="1"?"low":t==="2"?"medium":"high"}function Ld(t,e,o){let r=v(window,"DY.API"),n;t.threshold_group_count==="3"&&(n=Rd(t.score));let i=F([c,t.comparison_group.toLowerCase(),n||`score_${t.score}`]);if(typeof r=="function"){let p=B(t.score);r(Gc,{name:i,properties:{}}),typeof o=="function"&&o(Xn,{EVENT_PREFIX:`${c}_${e}`,score:p})}else throw new Error(b)}var zn={name:Xn,send:H(Xn,Ld)};function ro(t){let e=new Error(t);return e.name="ConfigDataError",e.status="warn",e.stack=W(e.stack,1),e}var Wc="event",no="owox",nr=[];function Dd(t){let e=Xt();if(e)t(e);else throw new Error(b)}function Hc(t,e,o,r){t.cid=e,t.z=Date.now(),K(`https://google-analytics.bi.owox.com/${o}?${ft(t)}`,{method:"GET"},()=>r(no,t))}function Fd(t,e,o){let r=window.GoogleAnalyticsObject?window[window.GoogleAnalyticsObject]:window.ga,i=M(e,no).tracking_id;if(typeof r=="function"){let p=h.setTimeout(()=>{s.error(new R(`${no} ready hook not fired`))},5e3);r(f=>{if(clearTimeout(p),i=i||f&&f.get("trackingId"),i||w(r.getAll(),a=>{let g=a.get("trackingId");if(g)return i=g,!1}),i){if(!t)return;let a=`${c}_${e}`,g=F([a,t.integration_product,t.conversion_product,t.conversion_type]),_=F([t.comparison_type,t.threshold_setter,t.threshold_group_count,t.comparison_population,t.comparison_group]);nr.push({v:1,ni:1,t:Wc,tid:i,dl:x(),ec:g,ea:_,el:B(t.score)}),Array.isArray(nr)&&D(()=>Dd(y=>{let N=nr;nr={push:$=>{Hc($,y,i,o)}},N.forEach($=>{Hc($,y,i,o)})}))}else s.error(new ro(`${no} tracking id not found`))})}}var Qn={eventHitType:Wc,name:no,send:Fd};var Bd=q({name:"kpi_sampling",allocations:[{percent:.1,value:!0}]});function Gt(t,e,o){Bd&&tt(`${o} ${e}`,{"evt.name":o,"evt.integration":e,appName:t,"usr.id":be().id,"view.url":P("page_url")||x(),"view.referrer":P("page_referrer_url")||at()})}var Zn={[Yn.name]:Yn,[zn.name]:zn,[Qn.name]:Qn};function ti(t,e,o){Gt(ht,t,e),Y(`${ht} ${e}: ${t}`,o)}function $d(t,e){Zn[t]!==void 0&&e&&w(e,o=>{o.name&&Zn[t].send(o,ht,(r,n)=>{ti(r,"score_push",n)})})}function Md(){let t=ut(`${ht}.scores`);t&&t.length&&st(ht,E.SCORES_UPDATE,t,{onExec:()=>{ti(u,E.SCORES_UPDATE,t)}});let e=t?t[0]:null;if(e){let o={score:parseInt(e.score,10),comparison_group:e.comparison_group,threshold_group_count:e.threshold_group_count};st(ht,"score_update",S({},o),{onExec:()=>{ti(u,"score_update",o)}})}}function Vd(t){let e=ut(`${ht}.integrations`),o=[];return w(e,r=>{let n=r.platform;t[n]&&o.push(t[n].then(()=>{$d(n,r.scores)}))}),Md(),Promise.all(o)}var Kc={appName:ht,platforms:Zn,sendAppScores:Vd};var ei={[Bt.name]:Bt};function Ud(t,e,o="score_push"){Gt(re,t,o),Y(`${re} ${o}: ${t}`,e)}function qd(t,e){ei[t]!==void 0&&e&&e.length>0?(V(Ge,"scored",30),w(e,o=>{o.name&&ei[t].send(o,re,Ud)})):V(Ge,"enabled",30)}function Gd(t){let e=G("blackcrow_promising_user")||"";return t==="enabled"||t===void 0&&e.toLowerCase()==="active"||t===void 0&&x().toLowerCase().indexOf("blackcrow_promising_user%3dactive")>0}function Hd(t){let e=ut(`${re}.integrations`),o=A(Ge),r=[];return o==="scored"?V(Ge,"scored",30):Gd(o)&&w(e,n=>{let i=n.platform;t[i]&&r.push(t[i].then(()=>{qd(i,n.scores)}))}),Promise.all(r)}var jc={appName:re,platforms:ei,sendAppScores:Hd};var Et="pwo",ir={DELAY:"delay",SESSION_VIEW_COUNT:"page_view",EXIT_INTENT:"exit_intent"};var ie=class{constructor(e){this.name=e}set(e,o){V(this.name,e,o)}get(){return A(this.name)}reset(){V(this.name,"",-1)}};var Jc=new ie(zs),sr=new ie(Zs),ri=new ie(ta),oi=class{SEPARATOR="|";overlayHistoryCookie=new ie(Qs);get(){let e=this.overlayHistoryCookie.get();return e?e.split(this.SEPARATOR):[]}push(e){let o=this.get();o.push(e),this.overlayHistoryCookie.set(o.join(this.SEPARATOR),30)}count(e){return this.get().filter(o=>o===e).length}totalCount(){return this.get().length}},pt=class{overlayClosedCookieDuration=30;constructor(){this.history=new oi}static overlayWasClosed(){return!!Jc.get()}static piiWasSubmitted(){return!!sr.get()}static submitPII(){sr.set("true",1051200)}closeOverlay(){delete this._openOverlay}setOverlayClosedCookie(){this.isOverlayOpenedByATC()||Jc.set("true",this.overlayClosedCookieDuration)}closeOverlayAndSetCookie(){this.closeOverlay(),this.setOverlayClosedCookie()}isOverlayOpen(){return!!this._openOverlay}piiWasSubmitted(){return pt.piiWasSubmitted()}setOverlayClosedDuration(e=30){this.overlayClosedCookieDuration=e}totalOverlaysOpenedCount(){return this.history.totalCount()}openStandardOverlay(){this._openOverlay=pt.STANDARD,this.history.push(pt.STANDARD)}standardOverlaysOpenedCount(){return this.history.count(pt.STANDARD)}openAtcOverlay(){this._openOverlay=pt.ATC,this.history.push(pt.ATC)}atcOverlaysOpenedCount(){return this.history.count(pt.ATC)}isOverlayOpenedByATC(){return this._openOverlay===pt.ATC}openExitOverlay(){this._openOverlay=pt.EXIT,this.history.push(pt.EXIT)}exitOverlaysOpenedCount(){return this.history.count(pt.EXIT)}isOverlayOpenedByExitTrigger(){return this._openOverlay===pt.EXIT}},mt=pt;bo(mt,"STANDARD","s"),bo(mt,"ATC","a"),bo(mt,"EXIT","e");var ar=class{maxTotalOverlays=1/0;maxStandardOverlays=1;maxATCOverlays=1;maxExitOverlays=1;constructor(e){this.interactionTracker=e}setMaxTotalOverlays(e=1/0){this.maxTotalOverlays=e}totalOverlayLimitReached(){return this.interactionTracker.totalOverlaysOpenedCount()>=this.maxTotalOverlays}standardOverlayLimitReached(){return this.interactionTracker.standardOverlaysOpenedCount()>=this.maxStandardOverlays}canOpenStandardOverlay(){return!this.interactionTracker.isOverlayOpen()&&!this.interactionTracker.piiWasSubmitted()&&!this.standardOverlayLimitReached()&&!this.totalOverlayLimitReached()}atcOverlayLimitReached(){return this.interactionTracker.atcOverlaysOpenedCount()>=this.maxATCOverlays}canOpenAtcOverlay(){return!this.interactionTracker.isOverlayOpen()&&!this.atcOverlayLimitReached()&&!this.totalOverlayLimitReached()}exitOverlayLimitReached(){return this.interactionTracker.exitOverlaysOpenedCount()>=this.maxExitOverlays}canOpenExitOverlay(){return!this.interactionTracker.isOverlayOpen()&&!this.exitOverlayLimitReached()&&!this.totalOverlayLimitReached()}};function he(t,e){s.push({trigger:t,data:e})}var Wd=["OPEN","EMAIL_LEAD","LEAD","CLOSE"],ni="attentive",cr={},Yc,Xc=!0;var Kd={OPEN:E.PWO_IMPR,CLOSE:E.PWO_CLOSE,EMAIL_LEAD:E.PWO_EMAIL_LEAD,LEAD:E.PWO_SMS_LEAD};function jd(t,e){Yc=t?.toUpperCase(),cr={},Xc&&(Xc=!1,h.addListener(window,"message",o=>{if(o.origin&&o.origin.indexOf(".attn.tv")!==-1){let r=o.data.__attentive||{};if(r&&Wd.includes(r.action)){let{action:n,creativeId:i}=r,p=cr[i];if(p?.includes(n))return;cr[i]=p?[...p,n]:[n];let f=Kd[n];f&&he(f,{rendered_form_id:i})}}})),D(()=>{if(typeof window.__attentive?.trigger=="function")e();else throw new Error(`${ni} globals not found`)},()=>s.error(new R(`[${Yc}] ${ni} globals not found.`)),100)}function Jd(){return Promise.resolve(G("utm_source")==="attentive")}function Yd(){}function Xd(t){delete cr[t],window.__attentive.trigger(null,null,null,t)}var ii={name:ni,setup:jd,isIdentified:Jd,triggerOverlay:Xd,addAttributesToUserProfile:Yd};var zc=["open","embedOpen","close","redirectedToUrl","submit","stepSubmit"];function Re(){if(!window.klaviyo){window._klOnsite=window._klOnsite||[];try{window.klaviyo=new Proxy({},{get(t,e){return e==="push"?function(){let o;(o=window._klOnsite).push.apply(o,arguments)}:function(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];let i=typeof r[r.length-1]=="function"?r.pop():void 0;return new Promise(f=>{window._klOnsite.push([e].concat(r,[function(a){i&&i(a),f(a)}]))})}}})}catch{window.klaviyo=window.klaviyo||[],window.klaviyo.push=function(){let e;(e=window._klOnsite).push.apply(e,arguments)}}}}function Qc(t,e,o=()=>!1,r=500){let n=A(t),i=h.setInterval(()=>{let p=A(t);if(p!==n)try{e(p),o()&&clearInterval(i)}catch(f){clearInterval(i),s.error(new Error(`Error occurred in one of the callbacks: ${f}`))}finally{n=p}},r);return i}var fr="klaviyo",si="PWO",io={};function zd(t){let e=t.type,o=t?.metaData,r=null;switch(e){case"open":r=E.PWO_IMPR;break;case"submit":o?.$email&&(r=E.PWO_EMAIL_LEAD);break;case"stepSubmit":o?.$phone_number&&(r=E.PWO_SMS_LEAD);break;case"close":r=E.PWO_CLOSE;break;default:break}return r}function Qd(t){return t.overrideSampling=!0,t.message=`klaviyo_renderer: ${t.message}`,t}function Zd(t,e){return o=>{o.message===`klaviyo_renderer: ${b}`?s.error(new R(t)):s.error(o),e()}}function Zc(){return new Promise((t,e)=>D(()=>{if(G("_kx"))return t(!0);let o=window._learnq?._loaded&&window?._learnq?.isIdentified||window._klOnsite?._loaded&&window._klOnsite.isIdentified||window?.klaviyo?.isIdentified;if(typeof o=="function"){let r=o();return t(r!==void 0&&r)}throw Qd(new Error(b))},Zd(`[${si}] ${fr} could not determine whether user is identified`,e)))}function tl(t){let e=window._learnq?._loaded&&window?._learnq?.push||window._klOnsite?._loaded&&window?._klOnsite?.push||window?.klaviyo?.push;typeof e=="function"&&e(["identify",t])}function ai(t){(window?._learnq?.push||window?._klOnsite?.push||window?.klaviyo?.push)(["identify",{$email:t}])}function el(){C(()=>{Uo(t=>{let e=yn(t);e&&ai(e)})})}function ol(){Zc().then(t=>{if(t===!1){let e=ct();e?ai(e):el()}})}function rl(){function t(){let e=ge();e&&O("kl_purchase",{kl_cid:e})}if(Pt()==="confirmation"){Qc(Lo,t,ge);let e=ct()||Vo();e&&ai(e)}else ol()}function nl(t){delete io[t],window.klaviyo.openForm(t)}function il(t,e){si=t?.toUpperCase(),io={};function o(r){let n=r?.formId,i=zd(r);function p(){return i&&io[n]?.includes(i)}function f(){let g=io[n];io[n]=g?[...g,i]:[i]}function a(){(window?._learnq?.push||window?._klOnsite?.push||window?.klaviyo?.push)(["track","Welcome Form Submit"])}p(n,i)||(f(n,i),he(i,{rendered_form_id:n}),i===E.PWO_EMAIL_LEAD&&a())}h.addListener(window,"klaviyoForms",r=>{r.detail&&zc.includes(r.detail.type)&&o(r.detail)}),(typeof window.klaviyo?.identify!="function"||!window._klOnsite?._loaded)&&Re(),D(()=>{if(typeof window.klaviyo?.identify=="function"&&window._klOnsite?._loaded)rl(),e();else throw new Error(`${fr} globals not found`)},()=>s.error(new R(`[${si}] ${fr} globals not found.`)),100)}var Le={name:fr,setup:il,isIdentified:Zc,triggerOverlay:nl,addAttributesToUserProfile:tl};function so(t,e){if(typeof e!="function")return;let o=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(...r){try{r[1]?.match(t)&&e&&h.addListener(this,"load",()=>{this.responseType===""||this.responseType==="text"?e(this.responseText):this.responseType==="json"&&e(JSON.stringify(this.response))})}catch{s.error(new _t(`XHR Sniffer Error For URL: ${t}`))}return o.apply(this,r)}}function ur(t,e){let o=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(...r){try{r[1]?.match(t)&&e(r)}catch{s.error(new _t(`XHR Intercept Error For URL: ${t}`))}return o.apply(this,r)}}var fi="justuno",ao={},ci;function ui(t){return t.overrideSampling=!0,t.message=`justuno_renderer: ${t.message}`,t}function tf(t,e){return o=>{o.message===`justuno_renderer: ${b}`?s.error(ui(new R(t))):s.error(o),e(t)}}function sl(){return window._klOnsite?._loaded||Re(),new Promise((t,e)=>D(()=>{if(typeof window.klaviyo?.isIdentified=="function"&&window._klOnsite?._loaded)return t(Le.isIdentified());throw ui(new Error(b))},tf(`[${ci}] ${fi} could not determine whether user is identified (using klaviyo).`,e)))}function al(t){typeof window?.klaviyo?.push!="function"&&!window._klOnsite?._loaded&&Re(),Le.addAttributesToUserProfile(t)}function cl(t){delete ao[t],window.ju_loadiframe({campaign_id:t??""})}function fl(t,e){ao={},ci=t?.toUpperCase();function o(i,p){return ao[i]?.includes(p)}function r(i,p){if(i){let f=ao[i];ao[i]=f?[...f,p]:[p]}}function n(i,p){o(i,p)||(r(i,p),he(p,{rendered_form_id:i}))}I()?e():(window.juapp=window.juapp||function(){(window.juapp.q=window.juapp.q||[]).push(arguments)},ur("(justuno.com|jst.ai)/api/analytics/impression",()=>{n(void 0,E.PWO_IMPR)}),window.juapp("trackFunc","engagement",(i,p,f,a,g,_)=>{_.find(y=>y.name==="phone_number"&&y.value.length>0)?n(a,E.PWO_SMS_LEAD):i&&n(a,E.PWO_EMAIL_LEAD)}),window.ju_windowevent=(i,p)=>{i==="unload"&&n(p,E.PWO_CLOSE)},D(()=>{if(window.ju_loadiframe&&typeof window.ju_loadiframe=="function"&&window.ju_initialized)e();else throw ui(new Error(b))},tf(`[${ci}] ${fi} globals not found.`,e),100))}var pi={name:fi,setup:fl,isIdentified:sl,triggerOverlay:cl,addAttributesToUserProfile:al};var ef={[ii.name]:ii,[pi.name]:pi,[Le.name]:Le},pr=class{constructor(e){if(!e)throw new Error("[PWO] No configured overlay renderer");if(this.overlayRenderer=ef[e.toLowerCase()],!this.overlayRenderer)throw new Error(`[PWO] Unrecognized overlay renderer: ${e}`)}setup(){return new Promise(e=>this.overlayRenderer.setup(Et,e))}triggerOverlay(e){this.overlayRenderer.triggerOverlay(e)}get name(){return this.overlayRenderer?.name}},mr=class{constructor(e){if(!Array.isArray(e)||!e.length)throw new Error("[PWO] No configured identity platforms");if(this.identityPlatforms=e.map(o=>{let r=ef[o?.toLowerCase()];return r||s.error(new Error(`[PWO] Unrecognized identity platform: ${o}`)),r}).filter(o=>!!o),!this.identityPlatforms.length)throw new Error("[PWO] No configured identity platforms")}isUserIdentified(){let e=this.identityPlatforms.map(async o=>{try{return o.isIdentified()}catch{return!0}});return Promise.all(e)}addAttributesToUserProfile(e){this.identityPlatforms.forEach(o=>{o.addAttributesToUserProfile(e)})}};function ul(){return Number(A(Wr))||0}function co(){return Number(A(Kr))||0}function of(){let t=ul();V(Wr,t+1,1051200);let e=co();e<1&&st("platform",E.SESSION),V(Kr,e+1,30)}function pl(){let e=Ne(Et).excludedQueryParams;return e&&e.some(o=>G(o.name)===o.value)}function ml(t){let e=t?.overlayBuckets?.triggerBuckets?.scoreName,o=ut(`${ht}.scores`)??[];return e?o.find(({name:r})=>r===e)?.score:void 0}function mi(){return ri.get()?!0:pl()?(ri.set(!0),!0):!1}function rf(){let t=Ne(Et),e=t?.overlayBuckets,o=bc(t),r=ml(t);return e===void 0?void 0:{resolved_trigger_config:{...e},resolved_form_id:o.formId,resolved_form_profile:o.profile,resolved_score:r}}function nf(t){return{closed_overlay:!!mt.overlayWasClosed(),identified:t.some(e=>e===!0),pii_submitted:!!mt.piiWasSubmitted(),channel_excluded:mi()}}function sf(t){if(de(Z()).deviceType!=="mobile")C(()=>{h.addListener(document?.documentElement,"mouseleave",t)});else{let e=le(),o=Ea();if(o>0){let r=h.setInterval(()=>{let n=e-le();n<0&&(n=0,e=le()),n/o>.3&&(clearInterval(r),t())},150)}}}function af(){let t=!!sr.get(),e=mi();return!(t||e)}function dl(){let t=Ct(),e=`${Et}_overlayBuckets`;return{custom_dimensions:{pwo_overlay_bucket_ratio:We(`${t}${e}`)}}}function di(t){let e={};function o(){return S({},rf(),nf(t),{session_page_views:co()},dl(),e)}function r(n){S(e,n)}return{getEventData:o,extendEventData:r}}var De,dr,fo,j=new mt,uo=new ar(j);function ll(t){De&&De.extendEventData(t)}function Ht(){return De?.getEventData()||{}}function ff(){return Ht()?.resolved_trigger_config?.name}function gl(){De=void 0}function _l(t){return{resolved_form_id:t.form_id,resolved_form_profile:t.form_profile,trigger_type:t.trigger_type,trigger_count:t.trigger_count}}function hl(){j.closeOverlay(),gl()}function El(t){return!j.isOverlayOpen()&&t.overlay_eligible&&t.trigger_type&&t.trigger_count>-1&&t.trigger_count!==null}function li(t){s.push({trigger:E.PWO_OPEN_ATTEMPT}),dr.triggerOverlay(t.form_id),fo.addAttributesToUserProfile({blackcrow_exposed_population_bucket:ff(),bcai_trigger:t.trigger_type,profile:t.form_profile})}function uf(t){return fo.isUserIdentified().then(o=>{!o.some(n=>n===!0)&&uo.canOpenStandardOverlay()&&(j.openStandardOverlay(),li(t))})}function pf(t,e){let o=dr.name??"unknown";s.error(new Error(`[${Et.toUpperCase()}] error when triggering overlay for creative "${t?.form_id}" on ${o} due to error "${e.message}".`))}function cf(t){let e=()=>uf(t).catch(o=>pf(t,o));h.setTimeout(e,t.trigger_count*1e3)}function yl(t){co()>=t.trigger_count&&uf(t).catch(o=>pf(t,o))}function wl(t){function e(){if(!t.overlay_eligible){let o=Ht();return!o.channel_excluded&&!o.identified&&!o.pii_submitted}return!0}return e()&&uo.canOpenAtcOverlay()}function vl(t){Ht()?.resolved_trigger_config?.triggerBuckets?.showOverlayOnATC&&k("platform",E.ADD_TO_CART,()=>{wl(t)&&(j.openAtcOverlay(),li(t))})}function Sl(t){let e=t?.apps?.pwo;if(e){ll({..._l(e)});let o=ff();if(fo.addAttributesToUserProfile(S({},{blackcrow_all_population_bucket:o,blackcrow_eligible_population_bucket:e?.overlay_eligible?o:void 0})),vl(e),El(e))switch(e.trigger_type){case ir.DELAY:cf(e);break;case ir.SESSION_VIEW_COUNT:yl(e);break;case ir.EXIT_INTENT:k("platform",E.EXIT_INTENT,()=>{uo.canOpenExitOverlay()&&cf(e)});break;default:}}else s.error(new Error(`[${Et.toUpperCase()}] missing "pwo" in response: ${JSON.stringify(t)}`))}function Il(t,e){return O(t,e,o=>{Sl(o)}),{eventName:t,eventData:e}}async function Al(t){try{if(t.renderer&&t.isIdentified&&nn()){await t.renderer;let e=await t.isIdentified;De=di(e),await Il(T.PWO_DECISION,De.getEventData())}}catch(e){s.error(e)}}function xl(){st("platform",E.EXIT_INTENT)}function bl(){k("platform",E.VIEW_RESPONSE,()=>{nn()&&(k("platform",E.PWO_CLOSE,e=>{let o=Ht(),r=o?.resolved_form_id,n=j.isOverlayOpen(),i=e?.rendered_form_id;O(T.PWO_CLOSE,S(e,o,{bcai_triggered:n,overlay_triggered_by_atc:j.isOverlayOpenedByATC(),overlay_triggered_by_seu:j.isOverlayOpenedByExitTrigger()})),j.closeOverlay(),n&&(r===i||!i)&&j.setOverlayClosedCookie()}),k("platform",E.PWO_EMAIL_LEAD,e=>{mt.submitPII(),O(T.PWO_EMAIL_LEAD,S(e,Ht(),{bcai_triggered:j.isOverlayOpen(),overlay_triggered_by_atc:j.isOverlayOpenedByATC(),overlay_triggered_by_seu:j.isOverlayOpenedByExitTrigger()}))}),k("platform",E.PWO_SMS_LEAD,e=>{mt.submitPII(),O(T.PWO_SMS_LEAD,S(e,Ht(),{bcai_triggered:j.isOverlayOpen(),overlay_triggered_by_atc:j.isOverlayOpenedByATC(),overlay_triggered_by_seu:j.isOverlayOpenedByExitTrigger()}))}),k("platform",E.PWO_IMPR,e=>{O(T.PWO_IMPR,S(e,Ht(),{bcai_triggered:j.isOverlayOpen(),overlay_triggered_by_atc:j.isOverlayOpenedByATC(),overlay_triggered_by_seu:j.isOverlayOpenedByExitTrigger()}))}),k("platform",E.PWO_OPEN_ATTEMPT,e=>{O(T.PWO_OPEN_ATTEMPT,S(e,Ht()))}),Ne(Et)?.overlayBuckets?.triggerBuckets?.showSecondOverlayOnExitIntent&&k("platform",E.EXIT_INTENT,()=>{let e=Ht();uo.canOpenExitOverlay()&&af()&&!e.identified&&(j.openExitOverlay(),li({trigger_type:E.EXIT_INTENT,form_id:e.resolved_form_id,form_profile:e.resolved_form_profile}))}))})}function Tl(){let t={},e=Ne(Et),o=e.renderer?.toLowerCase();if(I())s.error(new R("[PWO] Disabled while running in WebPixelManager."));else if(o===void 0)s.error(new Error("[PWO] No configured overlay renderer"));else{let r=e.identifyPlatforms;try{dr=new pr(o),fo=new mr(r||[o]),j.setOverlayClosedDuration(e?.overlayClosedCookieDuration),uo.setMaxTotalOverlays(e?.overlayBuckets?.triggerBuckets?.maxTotalOverlays),t.isIdentified=fo.isUserIdentified(),t.renderer=dr.setup(),bl(),sf(xl)}catch(n){s.error(n)}}return t}var mf={appName:Et,init:Tl,sendAppScores:Al,cleanup:hl};var gi="cordial";function Pl(t,e,o){let r=`${c}`,n=F([r,t.integration_product]),i=v(window,"crdl");if(typeof i=="function"){let p={app_name:e,integration_product:t.integration_product,conversion_product:t.conversion_product,conversion_type:t.conversion_type,comparison_population:t.comparison_population,comparison_group:t.comparison_group,comparison_type:t.comparison_type,threshold_setter:t.threshold_setter,threshold_group_count:t.threshold_group_count,score:B(t.score)};i("event",n,p),typeof o=="function"&&o(gi,n)}else throw new Error(b)}var _i={name:gi,send:H(gi,Pl)};var po=window.GoogleAnalyticsObject||"ga";window[po]=window[po]||function(){(window[po].q=window[po].q||[]).push(arguments)};var PL=window[po];window.dataLayer=window.dataLayer||[];var Wt=typeof window.gtag=="function"?window.gtag:function(){window.dataLayer.push(arguments)};function mo(){return A("_ga")?.split(".")?.slice(-2).join(".")}function hi(t,e){if(I()){let r=M(t,e).tracking_id;return r!=null&&r.startsWith("UA-")&&mo()!==void 0}if(Array.isArray(window.dataLayer)){let o=!1;return w(window.dataLayer,r=>{r[0]==="config"&&r[1]&&r[1].indexOf("UA-")===0&&(o=!0)}),o}return!1}function Ei(t,e){if(I()){let r=M(t,e).tracking_id;return r!=null&&r.startsWith("G-")&&mo()!==void 0}if(Array.isArray(window.dataLayer)){let o=!1;return w(window.dataLayer,r=>{r[0]==="config"&&r[1]&&r[1].indexOf("G-")===0&&(o=!0)}),o}return!1}var lr="event",yt="google_analytics",kl="https://www.google-analytics.com/collect",Cl="https://www.google-analytics.com/g/collect";function Nl(t,e){if(!I()){let r=M(t,yt).tracking_id;if(r){let n=document.createElement("script");n.src=`https://www.googletagmanager.com/gtag/js?id=${r}`,n.async=!0,document.getElementsByTagName("head")[0].appendChild(n),Wt("js",new Date),Wt("config",r,{send_page_view:!1})}}e()}function Ol(t,e,o,r,n){let i=new URL(kl);i.search=ft({v:1,t:lr,tid:t,cid:mo(),ec:e,ea:o,el:r,ua:Z(),dl:x(),dt:document.title,ni:1}),K(i.toString(),{method:"GET",mode:"cors"},n)}function Rl(t,{onSuccess:e,eventPrefix:o,integrationProduct:r,conversionProduct:n,conversionType:i,comparisonType:p,thresholdSetter:f,thresholdGroupCount:a,comparisonPopulation:g,score:_}){let y=new URL(Cl);y.search=ft({v:2,tid:t,en:lr,cid:mo(),dl:x(),dt:document.title,ep:{app_name:o,integration_product:r,conversion_product:n,comparison_population:g,comparison_type:p,conversion_type:i,threshold_setter:f,threshold_group_count:a,non_interaction:!0},epn:{score:_}}),K(y.toString(),{method:"POST",mode:"cors"},e)}function df(t,e,o,r,n,i,p,f,a){let g={};return g.category=F([t,e,o,r]),g.action=F([n,i,p,f]),g.label=a,g}function Ll(t,{onSuccess:e,eventPrefix:o,integrationProduct:r,conversionProduct:n,conversionType:i,comparisonType:p,thresholdSetter:f,thresholdGroupCount:a,comparisonPopulation:g,score:_}){let y=M(t,yt);if(y.pageBlocked)return;let N=window.GoogleAnalyticsObject?window[window.GoogleAnalyticsObject]:window.ga,$=df(o,r,n,i,p,f,a,g,_),lt=$.category,Ot=$.action,Kt=$.label;function Mt(){typeof e=="function"&&e(yt,{eventCategory:lt,eventAction:Ot,eventLabel:Kt})}if(hi(t,yt))Wt("event",Ot,{event_category:lt,event_label:Kt,non_interaction:!0}),Mt();else if(Ei()){let Ie=F([o,r],"_");Wt("event",Ie,{non_interaction:!0,app_name:o,integration_product:r,conversion_product:n,conversion_type:i,comparison_population:g,comparison_type:p,threshold_setter:f,threshold_group_count:a,score:_}),Mt()}else if(typeof N=="function"){let Ie=h.setTimeout(()=>{s.error(new R(`${yt} ready hook not fired`))},5e3);N(qs=>{if(clearTimeout(Ie),!(qs&&qs.get("trackingId"))){let xo=y.tracking_id;xo||w(N.getAll(),mp=>{let Gs=mp.get("trackingId");if(Gs)return xo=Gs,!1}),xo?N("create",xo,"auto"):s.error(new ro(`${yt} tracking id not found`))}N("send",{hitType:lr,eventCategory:lt,eventAction:Ot,eventLabel:Kt,nonInteraction:!0}),Mt()})}else throw new Error(b)}function Dl(t,{onSuccess:e,eventPrefix:o,integrationProduct:r,conversionProduct:n,conversionType:i,comparisonType:p,thresholdSetter:f,thresholdGroupCount:a,comparisonPopulation:g,score:_}){let y=df(o,r,n,i,p,f,a,g,_),N=y.category,$=y.action,lt=y.label;function Ot(){typeof e=="function"&&e(yt,{eventCategory:N,eventAction:$,eventLabel:lt})}if(hi(t,yt)){let Mt=M(t,yt).tracking_id;Ol(Mt,N,$,lt,Ot)}else if(Ei(t,yt)){let Mt=M(t,yt).tracking_id;Rl(Mt,{onSuccess:Ot,eventPrefix:o,integrationProduct:r,conversionProduct:n,conversionType:i,comparisonType:p,thresholdSetter:f,thresholdGroupCount:a,comparisonPopulation:g,score:_})}else throw new Error(b)}function Fl(t,e,o){let r=`${c}_${e}`;function n(p){p.message===b?s.error(new R(`${yt} globals not found`),{appName:e}):s.error(p)}if(!t)return;let i=I()?Dl:Ll;D(()=>i(e,{onSuccess:o,eventPrefix:r,integrationProduct:t.integration_product,conversionProduct:t.conversion_product,conversionType:t.conversion_type,comparisonType:t.comparison_type,thresholdSetter:t.threshold_setter,thresholdGroupCount:t.threshold_group_count,comparisonPopulation:t.comparison_population,score:B(t.score)}),n)}var yi={eventHitType:lr,name:yt,setup:Nl,send:Fl};var Fe="google_ads",Bl="www.googleadservices.com",$l="_gcl_au";function gr(t){return M(t,Fe)?.conversion_id}function lf(t){return gr(t)?.split("-").splice(-1).join()}function Ml(){return A($l)?.split(".").splice(-2).join(".")}function gf(t){let e=x(),o=at(),r=Ae(),n=Date.now(),i=Ml(),p={data:`event=${t};non_interaction=true`,fst:n,random:n,auid:i,url:e,ref:o,tiba:r,hn:Bl,rfmt:3,fmt:4,async:1,cv:11,guid:"ON"};return ft(p)}var Vl="event",Ul="https://googleads.g.doubleclick.net/pagead/viewthroughconversion";function ql(t,e){if(!I()){let o=gr(t);if(o){let r=document.createElement("script");r.src=`https://www.googletagmanager.com/gtag/js?id=${o}`,r.async=!0,document.getElementsByTagName("head")[0].appendChild(r),Wt("js",new Date),Wt("config",o)}}e()}function Gl(){if(Array.isArray(window.dataLayer)){let t=!1;return w(window.dataLayer,e=>{e[0]==="config"&&e[1]&&e[1].indexOf("AW-")===0&&(t=!0)}),t}return!1}function Hl(t,e,o){let r=lf(e),n=gf(t);try{Jt(`${Ul}/${r}/?${n}`),o()}catch(i){s.error(new Error(`${Fe} api call failed with ${i}`))}}function Wl(t,e,o){if(Gl())Wt("event",t,{send_to:gr(e),non_interaction:!0}),o();else throw new Error(b)}function Kl(t,e,o){let r=`${c}_${e}`,n=F([r,t.integration_product,t.conversion_product,t.conversion_type,t.comparison_type,t.threshold_setter,t.threshold_group_count,t.comparison_population,`score_${B(t.score)}`]);function i(){typeof o=="function"&&o(Fe,{event:n})}I()?Hl(n,e,i):Wl(n,e,i)}var wi={eventHitType:Vl,name:Fe,setup:ql,send:H(Fe,Kl)};var vi="heap";function jl(t,e,o){let r=v(window,"heap");if(r&&typeof r.addUserProperties=="function"){let i={[F([c,t.comparison_group,t.threshold_group_count])]:t.score};r.addUserProperties(i),typeof o=="function"&&o(vi,i)}else throw new Error(b)}var Si={name:vi,send:H(vi,jl)};var lo="klaviyo";function Jl(t,e){if(!I()){let o=M(t,lo).api_key,r=window._learnq?window._learnq.identify:null;if(o&&typeof r!="function"){let n=document.createElement("script");n.src=`https://static.klaviyo.com/onsite/js/klaviyo.js?company_id=${o}`,n.async=!0,document.getElementsByTagName("head")[0].appendChild(n)}}e()}function _f(t,e,o,r){function n(){typeof r=="function"&&r(lo,e)}function i(){let p=ct(),f=B(o.score),a={[e]:f};return p&&S(a,{$email:p}),a}if(I()){let p=M(t,lo).api_key;p&&K(`https://a.klaviyo.com/api/onsite/identify?c=${p}`,{body:JSON.stringify({token:p,properties:i()}),method:"POST",mode:"cors",credentials:"omit"},n())}else window._learnq||(window._learnq=[],s.error(new R(`${lo} globals not found`))),window._learnq.push(["identify",i()]),n()}var hf={},Ii={};function Yl(t){let e=hf[t];return()=>{_f(e.appName,e.eventName,e.scoreObj,e.onSuccess)}}function Xl(t,e,o){if(!t)return;let r=F([`${c}`,"score",t.threshold_group_count,t.comparison_group]);t.name!==void 0&&(hf[t.name]={appName:e,eventName:r,scoreObj:t,onSuccess:o},Ii[t.name]===void 0&&(Ii[t.name]=Yl(t.name)),h.addListener(window,"beforeunload",Ii[t.name])),h.setTimeout(()=>_f(e,r,t,o),5e3)}var Ai={name:lo,setup:Jl,send:Xl};var zl="event",_r="microsoft_ads";function Ql(t,{onSuccess:e,eventCategory:o,eventAction:r,eventLabel:n,eventValue:i}){function p(){typeof e=="function"&&e(_r,{event_category:o,event_action:r,event_label:n,event_value:i})}try{window.uetq=window.uetq||[],window.uetq.push("event",r,{event_category:o,event_label:n,event_value:i}),p()}catch{s.error(new R(`${_r} globals not found`),{appName:t})}}function Zl(t,e){let r=M(t,_r).tracking_id;r?function(n,i,p,f,a){var g,_,y;n[a]=n[a]||[],g=function(){var N={ti:r};N.q=n[a],n[a]=new UET(N),n[a].push("pageLoad"),e()},_=i.createElement(p),_.src=f,_.async=1,_.onload=_.onreadystatechange=function(){var N=this.readyState;N&&N!=="loaded"&&N!=="complete"||(g(),_.onload=_.onreadystatechange=null)},y=i.getElementsByTagName(p)[0],y.parentNode.insertBefore(_,y)}(window,document,"script","//bat.bing.com/bat.js","uetq"):e()}function tg(t,e,o){let r=`${c}_${e}`;if(!t)return;let n=t.integration_product,i=F([r,n,t.conversion_product,t.conversion_type]),p=F([t.comparison_type,t.threshold_setter,t.threshold_group_count,t.comparison_population,t.comparison_group]),f,a;if(n==="prospecting")a=t.raw_probability;else{f=B(t.score);let g=Number(t.score);g>=0&&(a=g)}Ql(e,{onSuccess:o,eventCategory:i,eventAction:p,eventLabel:f,eventValue:a})}var xi={eventHitType:zl,name:_r,setup:Zl,send:tg};var bi="oracle_responsys";function eg(t,e,o){let r=v(window,"ORA.click");if(typeof r=="function"){let n=B(t.score);r({data:{bc_score:n,"wt.dl":99}}),typeof o=="function"&&o(bi,n)}else throw new Error(b)}var Ti={name:bi,send:H(bi,eg)};var Ef="track";var Pi="outbrain";function og(t,e,o){let r=v(window,"obApi");if(typeof r=="function"){let n=`${c}`,i=t.integration_product,p=F([n,i,t.threshold_group_count,B(t.score)]," ").replace(/[^0-9a-z\s]/gi,"");r(Ef,p),typeof o=="function"&&o(Pi,p)}else throw new Error(b)}var ki={name:Pi,send:H(Pi,og)};var Ee="pinterest",Ci=`${c}`;function wf(t){return{lead_type:t.integration_product,video_title:t.conversion_product,order_id:t.conversion_type,property:t.comparison_group,promo_code:t.comparison_type,search_query:t.threshold_setter,order_quantity:B(t.threshold_group_count),value:B(t.score)}}function yf(t,e,o){let r=A("_pin_unauth"),n=A("_derived_epik"),i={event:Ci,ed:e,tid:t,pd:{...r&&{pin_unauth:r},...n&&{derived_epik:n}}};return o&&(i.ad={loc:x(),ref:document.referrer}),i}function rg(t,e,o){let r=M(e,Ee).tracking_id;if(r){let n="https://ct.pinterest.com",i=wf(t),p=yf(r,i,!1),f=ft(p,!1);K(`${n}/user/?${f}`,{method:"GET"},o,()=>s.error(new Error(`${Ee} api call failed`)));let a=yf(r,i,!0),g=ft(a,!1);K(`${n}/v3/?${g}`,{method:"GET"},o,()=>s.error(new Error(`${Ee} api call failed`)))}}function ng(t,e,o){if(I())rg(t,e,o);else{let r=v(window,"pintrk");if(typeof r=="function"){let n=wf(t);M(e,Ee).advancedMatching&&S(n,{em:ct()}),r("track",Ci,n),typeof o=="function"&&o(Ee,Ci)}else throw new Error(b)}}var Ni={name:Ee,send:H(Ee,ng)};var ye="snapchat",hr="_scid",Er="u_sclid",yr="u_scsid",Li="snaptr",Ri={};function wr(t,{getItem:e,setItem:o},r,n=ze){return e(t).then(i=>{let p=i;p||(p=n(),o(t,p)),r(p)})}function Oi(t){return Ri[t]}function vr(t,e){return Ri[t]=e,Ri[t]}function ig(t){return M(t,ye)?.pixel_id}function vf(t,e){let o=ig(e),r=jt("navigation")[0],n=jt(Li)[0];return{pid:o,ev:t.score,pl:x(),rf:at(),ts:Date.now(),trackId:ze(),u_c1:Oi(hr),u_sclid:Oi(Er),u_scsid:Oi(yr),m_dcl:r?.domContentLoadedEventEnd,m_pi:r?.domInteractive,m_pl:r?.loadEventEnd,m_pv:r?"v2":"v1",m_rd:Math.floor(To()),m_sl:n?.startTime,v:"2.0.0",bt:"1d53c387",if:!1}}function go(t){if(typeof Promise.allSettled=="function")return Promise.allSettled(t);let e=t.map(o=>Promise.resolve(o).then(r=>({status:"fulfilled",value:r}),r=>({status:"rejected",reason:r})));return Promise.all(e)}var sg="https://tr.snapchat.com/p";function Sf(t,e){return I()?go([wr(hr,{getItem:window.browser.cookie.get,setItem:window.browser.cookie.set},o=>{vr(hr,o)}),wr(Er,window.browser.localStorage,o=>{vr(Er,o)}),wr(yr,window.browser.sessionStorage,o=>{vr(yr,o)})]).finally(e):e()}function ag(t,e,o){let r=vf(t,e);K(`${sg}`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ft(r)},()=>{typeof o=="function"&&o(ye,`${c},${t.score}`)},()=>{s.error(`Unable to send scores to ${ye}.`)})}function cg(t,e,o){let r=v(window,Li);if(typeof r=="function"){if(r("track",t.score),typeof o=="function"){let n=`${c}`,i=F([n,t.score]);o(ye,i)}}else throw new Error(b)}function fg(t,e,o){return I()?ag(t,e,o):cg(t,e,o)}var _o={name:ye,identify:Sf,setup:Sf,send:H(ye,fg)};var Di="taboola";function ug(t,e,o){if(!t)return;window._tfa===void 0&&(window._tfa=[],s.error(new R(`${Di} globals not found`),{appName:e}));let r=`${c}`,n=t.integration_product,i=F([r,n,t.threshold_group_count,B(t.score)],"_");window._tfa.push({notify:"event",name:i}),typeof o=="function"&&o(Di,i)}var Fi={name:Di,send:ug};function pg(){return"product"}function Bi(){let t={},e=ct();return e&&(e=e.toLowerCase()),t.email=e,t}function mg(){let t=Bi();return Xo(t)}function dg(){let t={},e=A("_ttp");return e&&(t.anonymous_id=e),mg().then(o=>({...t,...o}))}function Sr(t,e){let o=F([`${c}_${t}`,e]),r=pg();return{content_id:o,content_type:r}}function If(t){let e={context:{page:{referrer:document.referrer,url:x()},pixel:{code:t},userAgent:Z()}};return dg().then(o=>(e.context.user=o,e))}function $i(t,e,o,r){return If(t).then(n=>(n.event=e,n.properties=Sr(r,o),n))}function Af(t){return If(t).then(e=>(e.event="EnrichAM",e))}var ho="tiktok",lg="https://analytics.tiktok.com/api/v2/pixel";function gg(t){let e=window.ttq;return e&&e.instances()&&Array.isArray(e.instances())?!!e.instances().find(o=>t===o.pixelCode&&o.loaded):!1}function Mi(){return L("tiktokAccounts")||[]}function _g(t,e){I()||Mi().forEach(r=>{let n=r.pixelId;n&&!gg(n)&&function(i,p,f){i.TiktokAnalyticsObject=f;var a=i[f]=i[f]||[];a.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],a.setAndDefer=function(_,y){_[y]=function(){_.push([y].concat(Array.prototype.slice.call(arguments,0)))}};for(var g=0;g<a.methods.length;g++)a.setAndDefer(a,a.methods[g]);a.instance=function(_){for(var y=a._i[_]||[],N=0;N<a.methods.length;N++)a.setAndDefer(y,a.methods[N]);return y},a.load=function(_,y){var N="https://analytics.tiktok.com/i18n/pixel/events.js";a._i=a._i||{},a._i[_]=[],a._i[_]._u=N,a._t=a._t||{},a._t[_]=+new Date,a._o=a._o||{},a._o[_]=y||{},y=document.createElement("script"),y.type="text/javascript",y.async=!0,y.src=N+"?sdkid="+_+"&lib="+f,_=document.getElementsByTagName("script")[0],_.parentNode.insertBefore(y,_)},a.load(n),a.page()}(window,document,"ttq")}),e()}function Vi(){s.error(new Error(`${ho} api call failed`))}function xf(t,e){let o=ct(),r=jo();if(o||r){let n=t.pixelId,i=v(window,"ttq.instance");typeof i=="function"&&typeof i(n).identify=="function"&&(i(n).identify({email:o,phone_number:r}),e&&typeof e=="function"&&e())}}function Ui(t,e,o){K(lg,{body:JSON.stringify(t),method:"POST"},e,o)}function bf(t,e){let o=t.pixelId;o&&Bi().email&&Af(o).then(n=>{Ui(n,e,Vi)})}function hg(t,e){let o=I();function r(i,p){return()=>{let a=(ut(`${t}.integrations`)||[]).find(g=>ho===g.platform);a&&a.scores&&a.scores.forEach(({score:g,integration_product:_})=>{o?$i(p,g,_,t).then(y=>{Ui(y,e,Vi)}):i(p).track(g,Sr(t,_))}),o||e&&typeof e=="function"&&e()}}Mi().forEach(i=>{let p=i.pixelId,f=v(window,"ttq.instance"),a=r(f,p);o?bf(i,a):xf(i,a)})}function Tf(t,e){return function(){if(typeof t=="function"){let r=`${c}`,n=F([r,e.score]);t(ho,n)}}}function Eg(t,e,o,r){let n=t.pixelId,i=v(window,"ttq.instance");if(n&&typeof i=="function")xf(t),e.score&&i(n).track(e.score,Sr(o,e.integration_product)),Tf(r,e)();else throw new Error(b)}function yg(t,e,o,r){let n=t.pixelId;if(n){bf(t);let i=e.score,p=e.integration_product;i&&(r=typeof r=="function"?Tf(r,e):void 0,$i(n,i,p,o).then(f=>{Ui(f,r,Vi)}))}else throw new Error(b)}function wg(t,e,o){Mi().forEach(n=>{I()?yg(n,t,e,o):Eg(n,t,e,o)})}var Eo={name:ho,identify:hg,setup:_g,send:H(ho,wg)};function qi({src:t,alt:e}){let o=document.createElement("img");return o.width=1,o.height=1,o.alt=e||"",o.src=t,o}var Ir="tradedesk";function vg(t,e,o){let n=M(e,Ir).pixel_id,i=B(t.score)-1,p=t.comparison_type,f=t.conversion_product,a=t.threshold_group_count;n&&!I()&&C(()=>{if(qi({src:`https://insight.adsrvr.org/track/pxl/?${n}&fmt=3&td1=blackcrow&td2=comparison_type|${p}&td3=comparison_product|${f}&td4=threshold_group_count|${a}&td5=score|${i}`}),typeof o=="function"){let g=`${c}`,_=F([g,t.score]);o(Ir,_)}else throw new Error(b)})}var Gi={name:Ir,send:H(Ir,vg)};var se="target";var Ar={[_i.name]:_i,[Bt.name]:Bt,[yi.name]:yi,[wi.name]:wi,[Si.name]:Si,[Ai.name]:Ai,[xi.name]:xi,[Ti.name]:Ti,[ki.name]:ki,[Ni.name]:Ni,[_o.name]:_o,[Fi.name]:Fi,[Eo.name]:Eo,[Gi.name]:Gi};function Sg(t,e,o="score_push"){Gt(se,t,o),Y(`${se} ${o}: ${t}`,e)}function Ig(t,e){e&&w(e,o=>{o.name&&Ar[t].send(o,se,Sg)})}function Ag(){let t=tr(se),e={};return t.forEach(o=>{let r=Ar[o];r!==void 0&&typeof r.setup=="function"?e[o]=new Promise(n=>r.setup(se,n)):e[o]=Promise.resolve()}),e}function xg(t){let e=ut(`${se}.integrations`),o=[];return w(e,r=>{let n=r.platform,i=r.scores,p=Ar[n];t[n]&&o.push(t[n].then(()=>{p!==void 0&&typeof p.send=="function"&&Ig(n,i)}))}),Promise.all(o)}var Pf={appName:se,init:Ag,platforms:Ar,sendAppScores:xg};var ae="identity";var kf=q({name:"identity_kpi_sampling",allocations:[{percent:.1,value:!0}]});function Cf(t,e,o){kf&&tt(`${t} platform request for ${e}`,{"platform.name":e,"event.name":o,appName:t})}function Nf(t,e){kf&&tt(`${t} user request`,e)}function Be(t,e,o,r){let n=it(e);if(n.length){let i={site_name:u,metadata:Wo(),device_info:Z(),page_url:x(),page_referrer_url:at(),page_title:Ae(),platform_name:t,platform_event_name:o,ids:n,user_data:{fbc:A(Ro),fbp:A(Yt)}},p={fb_test_event_code:A("fb_test_event_code")};oc(S(i,r,p)),Cf(ae,t,o)}}var Of="klaviyo",xr;function bg(t){return t==="track"}function Tg(t){return t.overrideSampling=!0,t.message=`identity: ${t.message}`,t}function Pg(t){return e=>{e.message===`identity: ${b}`?s.error(new R(t)):s.error(e)}}var kg=6144;function Cg(t){function e(o,r){let n=Array.isArray(o)?[]:{};return Object.keys(o).forEach(i=>{i.toLocaleLowerCase().includes(r.toLowerCase())||(n[i]=o[i],o[i]&&typeof o[i]=="object"&&(n[i]=e(o[i],r)))}),n}return["description","media","image","content","variants","metafields"].reduce((o,r)=>ke(JSON.stringify(o))<=kg?o:e(o,r),t)}function Hi(t,e){bg(e[0])&&Be(Of,t,e[1],{data:Cg(e[2])})}function Ng(t){Array.isArray(window._learnq)&&window._learnq.forEach(e=>{Hi(t,e)})}function Og(t){if(typeof window._learnq.push=="function"){let e=window._learnq.push;window._learnq.push=function(...o){e.apply(this,o);let r=o[0];Hi(t,r)}}}function Rg(t){function e(){let o=Array.prototype.slice.call(arguments[0]);Hi(t,o),xr.apply(this,arguments)}window._learnq.push&&typeof xr!="function"&&(xr||(xr=window._learnq.push),window._learnq.push=e)}function Lg(t,e){window._learnq=window._learnq||[],window._learnq?._loaded||(Ng(e),Og(e)),D(()=>{if(window._learnq?._loaded){Rg(e);return}throw Tg(new Error(b))},Pg("Klaviyo platform load not detected."),500,10)}var Wi={name:Of,setup:Lg};var wo="facebook_ads";function Dg(t){return t==="track"}function Rf(t,e,o,r,n){Dg(e)&&Be(wo,t,o,{data:r,platform_event_id:n?.eventID})}var yo=[];function Fg(t=[]){yo=yo.concat(t.filter(e=>!yo.includes(e)))}function Bg(){return yo}function $g(){yo=[]}function Mg(t,e){if(!window.fbq.alreadyIntercepted)if(typeof window.fbq?.getState=="function"){let o=window.fbq;window.fbq=(...r)=>{Rf(e,...r),o(...r)},Object.keys(o).forEach(r=>{Object.defineProperty(window.fbq,r,{set:n=>{o[r]=n},get:()=>o[r]})}),window.fbq.alreadyIntercepted=!0,Bg()?.forEach(([...r])=>Rf(e,...r)),$g()}else throw new Error(`${wo} pixel not yet loaded for ${t}.`)}function Vg(t,e){let o=[];if(e?.length){let r=Ho(t);e.forEach(n=>{let i=n?.loadPixel===!0,p=n?.pixelId,f=o.includes(p);i&&p&&!f&&r&&(o.push(p),or(p,r))})}}function Ug(t,e){let o=ne(t).platforms?.filter(r=>r.platform?.toLowerCase()===wo);Vg(e,o),D(()=>{Fg(window.fbq?.queue),Mg(t,e)},()=>s.error(new R(`${wo} pixel not present for ${t}.`),100))}var Ki={name:wo,setup:Ug};function qg(){return new Promise((t,e)=>D(()=>{if(window.Shopify.checkout)return t(window.Shopify.checkout);throw new R("Shopify checkout object missing")},o=>{s.error(o),e(o)},100))}function Gg(){if(!window.Shopify)throw new R("Shopify global missing")}function Hg(t){D(()=>{Gg(),t()},o=>s.error(o),300,300)}var we={setup:Hg,ensureShopifyCheckoutObjectExists:qg};function vo(t,e){if(typeof e!="function")return;let o=window.fetch;window.fetch=(...r)=>o.apply(this,r).then(n=>{try{typeof r[0]=="string"&&r[0]?.match(t)&&e(n.clone())}catch(i){s.error(new _t(`Fetch Sniffer for "${t}" failing with "${i?.message}" possibly due to unexpected ${r}.`))}return n})}function Lf(t,e,o){let r=window.fetch;window.fetch=function(...n){try{if(typeof n[0]=="string"&&n[0]?.match(t)){if(o)return r.apply(this,n).then(h.setTimeout(()=>e(n),500));e(n)}}catch{s.error(new _t(`Fetch Intercept Error For URL: ${t}`))}return r.apply(this,n)}}function ve(t){let e=new Error(t);return e.name="InvalidResponseBodyError",e.status="warn",e.stack=W(e.stack,1),e}var $e=/.*\/cart\/add(\.js|\.json)?(\?.*)?$/gm;function Wg(t,e){return new Promise((o,r)=>{K(t,e,o,r)})}var Df=/.*(\/cart(\.json|\.js)|\/cart\/(change|update)(\.js|\.json)?)(\?.*)?$/gm,Mf="_bcai_cs",Ff=!1;function br(t){try{window.localStorage.setItem(Mf,JSON.stringify(t))}catch(e){s.error(e)}}function Kg(t){let e=["id","price","product_description","product_type","product_id","quantity","title","vendor","product_title","variant_id","variant_title","sku","handle","featured_image"];return Object.fromEntries(Object.entries(t).filter(([o])=>e.includes(o)))}function Tr(t){return S({},{attributes:t.attributes,currency:t.currency,total_price:t.total_price,item_count:t.item_count,token:t.token,items:t.items?.map(e=>Kg(e))})}function Vf(){try{let t=window.localStorage.getItem(Mf);return JSON.parse(t)}catch(t){s.error(t);return}}function jg(){return window?.Shopify?.routes?.root?Wg(`${window.Shopify.routes.root}cart.js`).catch(t=>s.error(t)):Promise.resolve()}function Bf(t){try{return JSON.parse(t)}catch(e){return s.error(new ve(e?.message)),null}}function $f(t){let e=[t];t.items?.length&&(e=t.items);let o=e.reduce((p,f)=>{let a={...p};return f?.id!==void 0&&(a[f.id]=f),a},{}),r=Vf();if(!r||!t||Object.keys(o).length===0)return;let n=(r.items??[]).map(p=>{let f={...p},a=o[f?.id];return f.quantityAdded=0,a&&(f.quantityAdded=a.quantity-f.quantity,f.quantity=a.quantity,delete o[f.id]),f});Object.keys(o).forEach(p=>{let f=o[p];n.push({...f,quantityAdded:f.quantity})});let i={...r,items:n,item_count:n.reduce((p,f)=>p+(f.quantity??0),0),total_price:(r.total_price??0)+n.reduce((p,f)=>p+f.quantityAdded*(f.price??0),0)};br(Tr(i))}function Jg(){I()||Ff||(Ff=!0,so(Df,t=>{try{t=Bf(t),t&&br(Tr(t))}catch(e){s.error(e)}}),vo(Df,t=>{t.json().then(e=>br(Tr(e)),e=>{s.error(new ve(e?.message))}).catch(e=>s.error(e))}),so($e,t=>{try{t=Bf(t),t&&$f(t)}catch(e){s.error(e)}}),vo($e,t=>{t.json().then(e=>$f(e),e=>{s.error(new ve(e?.message))}).catch(e=>s.error(e))}))}function Yg(){if(I())return Promise.resolve();let t=Vf();return t?Promise.resolve(t):jg().then(e=>{let o;return e&&(o=Tr(e),br(o)),o})}var ce={setup:Jg,getData:Yg};var Uf="AddPaymentInfo";function Xg(t,e){return t.target.matches(`${["#continue_button",...e].filter(o=>!!o).join(",")}`)}function zg(){return X()?.replace(/\/$/,"").split("/").pop()}function Qg(t,e){I()||we.setup(()=>{Pt()==="payment"&&h.addListener(document,"click",o=>{Xg(o,e?.additionalSelectors??[])&&ce.getData().then(r=>{let n=JSON.parse(JSON.stringify(r)),i=Jo();i&&(n.total_price=i),t(Uf,{data:r,platform_event_id:zg()})})},!0)})}var qf={eventName:Uf,setup:Qg};var ji="AddToCart",Gf=!1;function Zg(t){if(!Gf){Gf=!0;let e=r=>{function n(i,p){return i?!i[p]&&i[p]!==0:!0}if(n(r,"id")||n(r,"quantity")){s.error(new ve(`SHOPIFY ${ji} addToCart request did not return valid item: ${JSON.stringify(r)}`));return}delete r.featured_image,delete r.image,delete r.options_with_values,delete r.sections,r.currency=oe(),t(ji,{data:r})},o=r=>{let n={};r?.items?(n=JSON.parse(JSON.stringify(r?.items)),n.forEach(i=>e(i))):r&&(n=JSON.parse(JSON.stringify(r)),e(n))};so($e,r=>{let n=JSON.parse(r);o(n)}),vo($e,r=>{r.json().then(n=>{o(n)})})}}var Hf={eventName:ji,setup:Zg};var t_=["button#checkout[type=submit]","button#checkout[type=submit] *","button[name=checkout]","button[name=checkout] *","input[id*=checkout][type=submit]","input[id*=checkout][type=submit] *",'[href*="/checkout"]','[href*="/checkout"] *',"button.rebuy-cart__checkout-button","button.rebuy-cart__checkout-button *","i.rebuy-button-icon","i.rebuy-button-icon *",'form[action="/cart"] [name="checkout"]','form[action="/cart"] [name="checkout"] *'],e_=["#dynamic-checkout-cart button","#dynamic-checkout-cart button *","#dynamic-checkout-cart [role=button]","#dynamic-checkout-cart [role=button] *",".additional-checkout-buttons button",".additional-checkout-buttons button *",".additional-checkout-buttons [role=button]",".additional-checkout-buttons [role=button] *"];function o_(t,e){return t.target.matches(`${[...t_,...e_,...e].filter(o=>!!o).join(",")}`)}function r_(t,e){return new Promise(o=>{C(()=>{h.addListener(document,"click",r=>{if(o_(r,e?.additionalSelectors??[])&&r.isTrusted){let n=r.target.parentNode?.form;(!n||n.checkValidity())&&t()}},!0),o()})})}var Wf={setup:r_};function Ji(t){let e=new Error(t);return e.name="BadRenderError",e.status="warn",e.stack=W(e.stack,1),e}var n_=new Promise(t=>{C(t)}),i_="div.paypal-checkout-sandbox";function s_(t){return new MutationObserver(e=>{e.forEach(o=>{o.addedNodes.forEach(r=>{r instanceof Element&&r.matches(i_)&&t()})})})}async function a_(t){try{if(I())return;await n_;let e=s_(t);D(()=>{if(!(document.body instanceof Node))throw new Error;e.observe(document.body,{childList:!0})},()=>{s.error(new Ji(`document.body did not render in time and had value: ${document.body}`))})}catch(e){s.error(e)}}var Kf={setup:a_};var jf="InitiateCheckout";function c_(t,e){if(ee())return Promise.resolve();ce.setup();let o=()=>{ce.getData().then(r=>{t(jf,{data:r})})};return Promise.all([Wf.setup(o,e),Kf.setup(o)])}var Jf={eventName:jf,setup:c_};var Yf="PageView";function f_(t){t(Yf)}var Xf={eventName:Yf,setup:f_};var zf="Purchase";function u_(t){return["order_id","line_items","total_price_set.shop_money.currency_code","total_price_set.shop_money.amount"].every(e=>v(t,e)!==void 0)}function p_(t){k("platform",E.VIEW_RESPONSE,()=>{we.setup(()=>{L("page.log_purchase")&&we.ensureShopifyCheckoutObjectExists().then(e=>{D(()=>{if(u_(e))t(zf,{data:{...e},platform_event_id:e.order_id});else throw new Error},()=>{throw new R("Shopify checkout required fields are missing")},300,100)}).catch(e=>{s.error(e)})})})}var Qf={eventName:zf,setup:p_};function Zf(t,e){return S({},{content_ids:e?.map(o=>o?.product_id).filter(o=>o),currency:t?.currency,content_type:"product_group",num_items:e?.reduce((o,r)=>o+(r?.quantity?r.quantity:0),0)})}function m_(t){let e=t?.line_items??[];return S(Zf(t,e),{order_id:t?.order_id,currency:t?.total_price_set?.shop_money?.currency_code,value:t?.total_price_set?.shop_money?.amount,contents:e?.map(o=>({id:o?.product_id,quantity:o?.quantity,item_price:o?.price,title:o?.title}))})}function tu(t){function e(r){return S({},{id:r?.product_id,quantity:r.quantity,item_price:Pe(r.price),title:r.product_title,description:r.product_description,category:r.product_type})}let o=t?.items??[];return S(Zf(t,o),{value:Jo()||Pe(t?.total_price),contents:o?.map(r=>e(r))})}function d_(t){let e={};return t?.items?.length?e=JSON.parse(JSON.stringify(t?.items[0])):t&&(e=JSON.parse(JSON.stringify(t))),{content_category:e.product_type,content_ids:e.product_id?[e.product_id]:[],content_name:e.title,content_type:"product_group",currency:e.currency||oe(),num_items:e.quantity||1,value:e.price?Pe(e.price):void 0}}function l_(t){let e={...tu(t)};return delete e?.num_items,e}function g_(t){return S({},{content_category:t?.type,content_ids:t?.id&&[t?.id],content_name:t?.title,content_type:"product_group",currency:t?.currency,value:Pe(t?.price)})}var __={addtocart:{eventName:"AddToCart",convert:d_},purchase:{eventName:"Purchase",convert:m_,isValid:t=>t?.total_price_set?.shop_money?.currency_code&&t?.total_price_set?.shop_money?.amount},addpaymentinfo:{eventName:"AddPaymentInfo",convert:l_},viewedproduct:{eventName:"ViewContent",convert:g_},pageview:{eventName:"PageView"},initiatecheckout:{eventName:"InitiateCheckout",convert:tu}};function eu(t,{data:e}={}){let o=__[t?.toLowerCase()];if(!o||o.isValid&&!o.isValid(e))return;let r=o.convert&&o.convert(e);return{eventName:o.eventName,data:r}}function Yi(t,e){return t.find(o=>o.eventSource==="shopify"&&o.originalEventName===e)}var ru="facebook_ads",ou=[];function nu(t){return ne(t).platforms?.filter(e=>e.platform?.toLowerCase()===ru)}function h_(t,e){let o=Ho(t);nu(e).forEach(n=>{let i=n?.loadPixel===!0,p=n?.pixelId,f=ou.includes(p);i&&p&&!f&&o&&(ou.push(p),or(p,o))})}function E_(t,e,o="identity"){let r=eu(t,e);nu(o).forEach(n=>{let i=Yi(n?.eventTrackers||[],t),p=i?.overrideEventName||i?.originalEventName;function f(){return i&&p&&r&&window.fbq&&n.pixelId}f()&&window.fbq("trackSingle",n.pixelId,p,r?.data,{eventID:e?.platform_event_id})})}var Xi={name:ru,setup:h_,sendEvent:E_};var iu={[Xi.name]:Xi},y_=6144,su,au,zi,Qi;function w_(t,e,o,{browserEventPlatforms:r}={}){su=t,au=e,zi=o,Qi=r??[],Qi.forEach(n=>{iu[n]?.setup(zi,e)})}function v_(t="",e="product_description"){let r=new RegExp(`("${e}":")(.*?)("[,}])`,"g");return[...t.matchAll(r)].reduce((i,[p,f,a,g])=>{if(a.length<50)return i;let _="";return i.replace(p,`${f}${_}${g}`)},t.slice())}function S_(t){if(!t)return t;let e=JSON.stringify(t);return ke(e)>y_&&(e=v_(e)),JSON.parse(e)}function I_(t,e={},{browserEventPlatforms:o}={}){let r=o??Qi,n=S_(e);n.platform_event_id||(n.platform_event_id=ze()),Be(su,zi,t,n),r.forEach(i=>{iu[i]?.sendEvent(t,n,au)})}var fe={setup:w_,sendEvent:I_};var cu="ViewedProduct";function fu(t,e){let o=JSON.parse(JSON.stringify(t));if(o.variants&&o.variants.length){let n=t.variants[0];n.name&&(o.title=n.name),o.variants=[n]}delete o.images,delete o.media,delete o.featured_image,delete o.description;let r=oe();r&&(o.currency=r),e(cu,{data:o})}function A_(t){we.setup(()=>{if(eo()){let e=`${X()}.js${window.location.search}`;U(e,{},o=>fu(o,t))}})}var uu={eventName:cu,setup:A_,sendProductDataToPlatform:fu};var Zi="shopify";function x_(t){let e=ne(t),[o]=e?.platforms?.filter(r=>r?.platform===Zi.toUpperCase());return o}function b_(t,e){let o=x_(t),r=o?.eventTriggerSettings;fe.setup(Zi,t,e,o),qf.setup(fe.sendEvent,r?.AddPaymentInfo),Hf.setup(fe.sendEvent,r?.AddToCart),Jf.setup(fe.sendEvent,r?.InitiateCheckout),Xf.setup(fe.sendEvent,r?.PageView),Qf.setup(fe.sendEvent,r?.Purchase),uu.setup(fe.sendEvent,r?.ViewedProduct)}var ts={name:Zi,setup:b_};var T_="shopify_webhook";function P_(t,e){function o(r){if(!r)return!1;try{let n=JSON.parse(r);return!!(n?.site_name&&n?.ids?.length)}catch{return!1}}ce.setup(),ce.getData().then(r=>{if(ee()&&!o(r?.attributes?._bcai)){let n={method:"POST",body:JSON.stringify({attributes:{_bcai:JSON.stringify({site_name:u,ids:it(e)})}}),headers:{Accept:"application/json","Content-Type":"application/json"}};U(`${window?.Shopify?.routes?.root||"/"}cart/update.js`,n,()=>{},()=>{s.error(new _t("Cart update failed"))})}})}var es={name:T_,setup:P_};function $t(t={}){let e="https://api.blackcrow.ai/user/?";Vt(u)&&(e="https://api.sandbox.blackcrow.ai/user/?");let o={site_name:u,ids:t},r=JSON.stringify(o);Jt(e,r),Nf(ae,o)}function k_(t){function e(o){let r=it(t),n=Tt("e",wn(o));r.length&&n.length&&$t(r.concat(n))}Ra(e)}var os={name:"email",setup:k_};function C_(t){function e(o){let r=it(t),n=Tt("p",Vn(o));r.length&&n.length&&$t(r.concat(n))}gc(e)}var rs={name:"phone",setup:C_};function Me(t,e){try{window.sessionStorage.setItem(t,JSON.stringify(e))}catch{}}function So(t,e){return zt(t)===e?!0:(Me(t,e),!1)}var N_="_kx";function O_(t){let e=it(t);function o(i){let p=Tt("klx",i);e.length&&p.length&&$t(e.concat(p))}function r(){return ge()}let n=r();o(G(N_)),So("_bcai_s_keid",n)||o(n)}var ns={name:"klaviyo",setup:O_};function R_(t){function e(){let g=G(oa);return g?.trim().length>0?`fb.1.${Date.now()}.${g}`:A(Ro)}function o(){return A(Yt)}let r=it(t);function n(g){let _=Object.entries(g).reduce((y,[N,$])=>y.concat(Tt(N,$)),[]);r.length&&_.length&&$t(r.concat(_))}let[i,p]=[e(),o()],[f,a]=[So("_bcai_s_fbc",i),So("_bcai_s_fbp",p)];n({...!f&&{fbc:i},...!a&&{fbp:p}})}var is={name:"facebook_ads",setup:R_};function L_(t){let e=it(t),o=wc();o&&e.length&&o.forEach(r=>{let n=[];n=n.concat(Tt("fn",Yo(r.fn))),n=n.concat(Tt("ln",Yo(r.ln))),n=n.concat(Tt("fln",Yo(r.fln))),n.length&&$t(e.concat(n))},[])}var ss={name:"name",setup:L_};function as(t,...e){return new Promise((o,r)=>{t(...e,n=>o(n),n=>r(n))})}var D_={[Wi.name]:Wi,[Ki.name]:Ki,[ts.name]:ts,[es.name]:es},F_={[os.name]:os,[rs.name]:rs,[ns.name]:ns,[is.name]:is,[ss.name]:ss};function B_(t,e){e.forEach(o=>{let r=F_[o];r&&typeof r.setup=="function"&&r.setup(t)})}function $_(t,e){t.length!==0&&e&&e.forEach(o=>{let r=D_[o];r&&typeof r.setup=="function"&&r.setup(ae,t)})}function M_(t){return t.filter(e=>e.source==="cookie"&&e.cookieLoadUrl)}function V_(t){let e=[];return t.forEach(o=>{A(o.value)||e.push(as(U,o.cookieLoadUrl,{mode:"no-cors",credentials:"include"}))}),e}function U_(){let t=ne(ae),e=t.userAttributes||[],o=t.userIdentifiers||[],r=M_(o),n=[],i=new Set((t.platforms||[]).map(f=>f?.platform?.toLowerCase()).filter(f=>f));r.length&&(n=V_(r));function p(){C(()=>{B_(o,e)}),$_(o,i)}return go(n).then(p())}function q_(){return U_(),{}}var pu={appName:ae,init:q_};var Pr={audience:Kc,measure:jc,pwo:mf,target:Pf,identity:pu};var Io={};function G_(t){let e=qt(t.appName);if(typeof t.init=="function"&&e.active)return t.init();let o=tr(t.appName),r={};return o.forEach(n=>{r[n]=Promise.resolve()}),r}function H_(t,e){let o=qt(t.appName);return typeof t.sendAppScores=="function"&&o.active?t.sendAppScores(e):Promise.resolve()}function mu(){w(Pr,(t,e)=>{qt(e).active&&(Io[t.appName]=t)})}function du(){let t={};return w(Io,e=>{t[e.appName]=G_(e)}),t}function cs(t){if(Vt(u))return Promise.resolve();let e=[];return w(Io,o=>{e.push(H_(o,t[o.appName]))}),Promise.all(e)}function lu(){w(Io,t=>{typeof t.cleanup=="function"&&t.cleanup()}),Io={}}function J(t){k("platform",E.VIEW_RESPONSE,e=>t(e))}function gu(t,e){return Ke(t),cs(e)}function kr(t,e){Ke(t),Ma(t.history_id),nc(),Mn(),Xa(),cs(e).then(()=>{Bt.sendValidationEvent({location:"view_request"},"FB view event not sent")}),st("platform",E.VIEW_RESPONSE,t)}var Cr=`${c}_overrides`,_u=!1,Nr=null;function W_(){Nr=null,Me(Cr,{})}function hu(t){let e=S({},Nr||zt(Cr),t);Nr=e,Me(Cr,e),_u&&console.log(`Your <${c}> settings will apply on the next page load. Please refresh the page.`)}function K_(){w(Pr,(t,e)=>{k("platform",`force_${e}`,()=>{hu({apps:{[e]:{active:!0}}})})})}function Eu(){k("platform",E.OVERRIDES,hu),k("platform",E.CLEAR_OVERRIDES,W_),K_()}function yu(){return _u=!0,Nr||zt(Cr)}function wu(){return mu(),du()}var vu=!1;function j_(){let t=[...document.querySelectorAll("[data-shipping-method-label-title]")];if(t.length){let e=[];return t.forEach(o=>{let n=new RegExp(/([A-Za-z0-9- ]*)(?:\s)(\([A-Za-z0-9- ]*\))/).exec(o.dataset.shippingMethodLabelTitle.trim());n&&n.length&&e.push({method:n[1],duration:n[2]})}),e}return null}function fs(){let t=[...document.querySelectorAll("[data-checkout-total-shipping]")],e=j_();if(t.length&&e){let o=[];return t.forEach((r,n)=>{let i={...e[n],cost:r.dataset.checkoutShippingRate,selected:r.checked};o.push(i)}),{custom_dimensions:{tax_amount:to(),shipping_options:o}}}return null}function J_(){let t=[...document.querySelectorAll("[data-review-section]")];if(t.length){let o=new RegExp(/([0-9A-Za-z- ]*)(?:\s)(\([A-Za-z0-9- ]*\))(?:\s*·*\s*)(.*)/).exec(t[0].textContent.trim());if(o&&o.length)return{custom_dimensions:{tax_amount:to(),selected_shipping_option:{method:o[1],cost:o[3]}}}}return null}function Y_(){let t=J_();t&&s.push({trigger:E.CA_PAYMENT,data:t})}function X_(){let t=fs();t&&s.push({trigger:E.CA_SHIPPING_EXIT,data:t})}function us(){C(()=>{let t=Pt();t==="payment"&&Y_(),t==="shipping"&&!vu&&(h.addListener(window,"beforeunload",()=>{X_()}),vu=!0)}),J(()=>{k("platform",E.CA_PAYMENT,t=>{O(T.CA_PAYMENT,t)}),k("platform",E.CA_SHIPPING_EXIT,t=>{O(T.CA_SHIPPING_EXIT,t)})})}var z_="bcai_ca";function Su(t){let e=G(z_);return e==="test"?!0:e==="control"?!1:!!t}function Iu(t){let e=t.comparison_type,o=t.comparison_group,r=t.score_range,i=(ut(`${ht}.scores`)||[]).find(p=>p.comparison_type===e&&p.comparison_group===o);return Su(i&&r.indexOf(i.score)!==-1)}function Au(t){let o=[...document.getElementsByClassName("reduction-code__text")].find(n=>n.textContent===t),r=document.getElementsByClassName("tags-list").length;return!!(r===1&&o||r===0)}function xu(t,e){return e?t<=e:!0}function bu(t,e){return e?e<=t:!0}function Tu(){return document.getElementsByClassName("recurring-total-label-content").length===0}function Pu(t){return Su(t&&q({name:"checkout_abandonment",allocations:[{percent:t,value:!0}]}))}function ku(t,e,o,r,n,i,p,f){let a=o&&r&&t&&e&&i&&p&&f;return a&&n?"treatment":a&&!n?"control":"not_eligible"}function Cu(t){let e={experiment_config:te(t),resolved_experiment_config:xt(t)};return Object.keys(e.experiment_config).length>0?e:{}}function Ve(t){return(t*.01).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2})}var Q_="checkout_abandonment",Z_="checkout_abandonment.banner.activate",Nu=!1;function Ue(){return xt(Q_)?.data?.free_shipping_test||{}}function ps(){let t=Ue().version;if(t)return parseInt(t.replace("_",""),10)}function Or(){Nu||window.dataLayer&&L("config.google_optimize.container_id")&&(window.dataLayer.push({event:Z_}),Nu=!0)}function Ou(t,e){let o=document.getElementsByClassName("order-summary-toggle");o.length&&o[0].click();let r=document.getElementById("checkout_reduction_code");r&&e.coupon_code&&(r.value=e.coupon_code);let n=document.getElementById("checkout_submit");n&&(n.removeAttribute("disabled"),n.classList.remove("btn--disabled"),n.click()),h.setTimeout(()=>{let i=e.shipping_cost||595;if(i&&ps()===15&&oe()==="USD"){let a=Ve(t+i),g=document.querySelector("dl.total-recap");if(g){let N=kt("dt",{className:"visually-hidden",innerHTML:"<span>Total price</span>"}),$=kt("dd",{className:"order-summary__emphasis skeleton-while-loading",innerHTML:`<span>${a}</span>`});$.style.textDecoration="line-through",g.prepend(N,$)}let _=document.querySelector("tr.total-line--subtotal");_&&(_.querySelector("span.order-summary__emphasis").textContent=a);let y=document.querySelector("tr.total-line--reduction");y&&(y.querySelector("span.reduction-code__text").textContent="FREE SHIPPING",y.querySelector("td.total-line__price").querySelector("span.order-summary__emphasis").textContent=`-${Ve(i)}`)}[...document.getElementsByClassName("total-line--shipping")].forEach(a=>{a.style.display="none"}),[...document.getElementsByClassName("reduction-code__text")].forEach(a=>{a.style.opacity="1"})},2e3),Or()}var Ru=!1;function th(t){let e=t.hotjar,o=t.hotjar_ratio_of_test_bucket;return e&&o&&q({name:"hotjar",allocations:[{percent:o,value:!0}]})}function eh(t){let e=t.hjid,o=t.version;e&&o&&(function(r,n,i,p,f,a){r.hj=r.hj||function(){(r.hj.q=r.hj.q||[]).push(arguments)},r._hjSettings={hjid:e,hjsv:6},f=n.getElementsByTagName("head")[0],a=n.createElement("script"),a.async=1,a.src=i+r._hjSettings.hjid+p+r._hjSettings.hjsv,f.appendChild(a)}(window,document,"https://static.hotjar.com/c/hotjar-",".js?sv="),window.hj("event","bcai_ca_test"),window.hj("event",`bcai_ca_test_${o}`))}function ms(){let t=Ue();!Ru&&th(t)&&(eh(t),Ru=!0)}var Lu=!1;function oh(t){let e="cart/add",o=E.ADD_TO_CART;ur(e,()=>{s.push({trigger:o})}),Lf(e,()=>{s.push({trigger:o})},t)}function rh(t){h.addListener(window,"click",e=>{let o=v(e,"target.className");(e.target.getAttribute("name")==="checkout"||t&&typeof o=="string"&&o.match(t))&&s.push({trigger:"initiate_checkout"})})}function ds(t){let e=[];return t.items.forEach(o=>{e.push({sku:o.sku,id:o.id,quantity:o.quantity})}),t.items=e,t}function ls(t,e){return t.items&&(t=ds(t)),{cart_json:t,...Cu(e)}}function gs(t,e,o,r){U("/cart.json",{servletName:"ShopifyCart"},n=>{let i={custom_dimensions:ls(n,r)};o?e(o,S({},t,i)):e(S({},t,i))})}function _s(t){Lu===!1&&(D(()=>{if(Ft()&&L("config.shopify.add_to_cart.active"))return oh(!0);throw new Error("Shopify globals not found")}),L("config.shopify.checkout.active")&&rh(L("config.shopify.checkout.class_name")),Lu=!0),J(()=>{Ft()&&L("config.shopify.add_to_cart.active")&&k("platform",E.ADD_TO_CART,e=>{gs(S({},e,{page_id:"AddToCart"}),t,void 0,"checkout_abandonment")}),k("platform",E.INITIATE_CHECKOUT,e=>t(S({},e,{page_id:"checkout"})))})}var Rr="checkout_abandonment",nh="bcai_ca";function ih(){return xt(Rr)?.data?.data_logging||{}}function hs(){return xt(Rr).active}function sh(){let t=Ue().exclude_channels,e=vt(x());function o(r,n){return e[r]===n}t&&(t.values||[]).forEach(n=>{o(t.param,n)&&V(Xr,"true")})}function ah(){function t(r){return Object.keys(S({},r)).filter(n=>n.match("Config$")).map(n=>n.replace(/Config$/,""))}let e=v(window,"Shopify.Checkout.dynamicCheckoutPaymentInstrumentsConfig.paymentInstruments");return{custom_dimensions:{checkout_options:e?t(e):void 0}}}function ch(t={}){let e=bt(),o=ih().checkout_data_page_ids||[];if(hs()&&o.indexOf(e)!==-1){let r=Pt(),n;r==="contact"?n=S({},t,ah()):r==="shipping"?n=S({},t,fs()):n=t,s.push({trigger:E.CA_CART_CHECKOUT,payload:n})}}function Du(t){C(()=>{ch(t)});let e=bt(),o=Ue();o.test_page_id&&hs()&&e===o.test_page_id&&U("/cart.json",{servletName:"ShopifyCart"},r=>{let n=r.total_price,i=Iu(o),p=Au(o.coupon_code),f=xu(n,o.max_total_price),a=bu(n,o.min_total_price),g=Pu(o.test_bucket_ratio),_=Tu(),y=!A(ea),N=!A(Xr),$=ku(i,p,f,a,g,_,y,N),lt=$==="treatment",Ot=o.version,Kt=G(nh),Mt=S({eligible:lt,score_in_range:i,coupon_empty:p,cart_value_below_threshold:f,cart_value_above_threshold:a,test_bucket:g,non_subscription_item:_,pii_not_submitted:y,not_excluded_by_channel:N},{force_bucket:Kt}),Ie={custom_dimensions:{...ls(r,Rr),eligibility:Mt,experiment_group:Kt?"not_eligible":$,version:Ot}};O(T.CA_TEST,Ie),lt&&(ms(),o.a_a_test||(V(Yr,"true",30),o.display_banner_only?C(()=>Or()):C(()=>Ou(n,o))))})}function Lr(){if(sh(),A(Yr)){ms();let t=ps();(t===13||t===14)&&hs()&&ee()&&!v(window,"Shopify.checkout")&&Or()}J(()=>{k("platform",E.CA_CART_CHECKOUT,t=>{gs(t,O,T.CA_CART_CHECKOUT,Rr)}),Du()})}var Fu=!1;function Es(){Fu||(C(()=>{if(!["korres","dropps","theadventurechallenge","pacificabeauty","nativecos"].includes(u.toLowerCase()))return;let e,o;window.DeviceOrientationEvent&&(DeviceOrientationEvent.requestPermission||h.addListener(window,"deviceorientation",r=>{let[n,i,p]=[r.alpha,r.beta,r.gamma];o={alpha:n,beta:i,gamma:p}},{once:!0})),window.DeviceMotionEvent&&(DeviceMotionEvent.requestPermission||h.addListener(window,"devicemotion",r=>{let[n,i,p]=[r.acceleration.x,r.acceleration.y,r.acceleration.z];e={x:n,y:i,z:p}},{once:!0})),h.addListener(window,"beforeunload",()=>{if(o||e){let r={custom_dimensions:{motion:e,orientation:o}};O(T.DEVICE_MOTION,r)}})}),Fu=!0)}var Bu=!1;function $u(t){let e=[...document.querySelectorAll(t)],o=e.length>0?e[0].textContent:null;return o?o.trim():null}function Mu(){if(ee()){let t=document.querySelector(".tags-list"),e=t?t.querySelector(".reduction-code__text"):null,o=e?e.textContent:null,r=$u("[data-checkout-discount-amount-target]"),n=$u("[data-checkout-subtotal-price-target]");if(o){let i={custom_dimensions:{discount_code:o,discount_value:r,subtotal:n}};s.push({trigger:E.DISCOUNT_APPLIED,data:i})}}}function ys(){C(Mu),J(()=>{k("platform",E.DISCOUNT_APPLIED,t=>{O(T.DISCOUNT_APPLIED,t)})}),Bu===!1&&(h.addListener(window,"beforeunload",()=>{Mu()}),Bu=!0)}function Ao(t){s.push({trigger:E.DISCOUNT_INTERACTION,data:{custom_dimensions:{interaction_type:t}}})}function fh(){function t(){h.setTimeout(()=>{document.getElementById("error-for-reduction_code")?Ao("invalidated"):Ao("validated")},3e3)}let e=document.getElementById("checkout_reduction_code");e&&h.addListener(e,"focus",()=>{Ao("focused_input")});let o=document.getElementById("checkout_submit");o&&h.addListener(o.form,"submit",t),[...document.getElementsByClassName("tag")].forEach(n=>{let i=n.querySelector("span.reduction-code");i&&h.addListener(i,"click",()=>{Ao("clicked_code")});let p=n.querySelector("button[type=submit]");p&&h.addListener(p,"click",()=>{Ao("clicked_remove")})})}function ws(){C(fh),J(()=>{k("platform",E.DISCOUNT_INTERACTION,t=>{O(T.DISCOUNT_INTERACTION,t)})})}function vs(){if(Pt()!=="contact")return;let t,e,o={custom_dimensions:{initial_opt_in_status_email:null,initial_opt_in_status_phone:null,final_opt_in_status_email:null,final_opt_in_status_phone:null}};C(()=>{t=document.getElementById("checkout_buyer_accepts_marketing"),e=document.getElementById("ps_accepts_sms"),o.custom_dimensions.initial_opt_in_status_email=t?t.checked:null,o.custom_dimensions.initial_opt_in_status_phone=e?e.checked:null;let r=document.getElementById("continue_button");r&&h.addListener(r,"click",()=>{e||(e=document.getElementById("ps_accepts_sms")),o.custom_dimensions.final_opt_in_status_email=t?t.checked:null,o.custom_dimensions.final_opt_in_status_phone=e?e.checked:null,O(T.MARKETING_CHECKOUT_EVENT,o)})})}var wt={platforms:{attentive:{submitEvents:["EMAIL_LEAD"]},bounceExchange:{submitEvents:["input_submission","campaign_submit"]},justUno:{},klaviyo:{submitEvents:["submit"]},sleekNote:{submitEvents:["submit"]},wisePops:{submitEvents:["after-form-submit"]},generic:{}},platformIdentifiers:["kl-","klaviyo","attn","fieldcaptureform","sleeknote","justuno","bx","bounceexchange","wisepops"],platformIdentifierExceptions:["kmail"],metadataViolators:["phone","email","sentIdentifiers"],page_id:"EmailSubmit"};var{platformIdentifiers:uh,platformIdentifierExceptions:ph,metadataViolators:mh}=wt,Uu=(t,{qualified:e,resolveTarget:o})=>t?e(t)?o?t:!0:t.parentElement?Uu(t.parentElement,{qualified:e,resolveTarget:o}):!1:!1,dh=t=>t.style.position==="fixed"||t.style.top==="0"||t.style.top==="0px",lh=t=>t.nodeName.toLowerCase()==="iframe",gh={form:{qualified:t=>t.nodeName.toLowerCase()==="form",resolveTarget:!0},footer:{qualified:t=>t.nodeName.toLowerCase()==="footer",resolveTarget:!1},overlay:{qualified:t=>dh(t)||lh(t),resolveTarget:!1}},Ss=(t,e)=>Uu(t,gh[e]),qu=t=>Ss(t,"form"),_h=t=>Ss(t,"footer"),hh=t=>Ss(t,"overlay"),Eh=t=>{if(!t)return"unknown";try{if(hh(t))return"overlay";if(_h(t))return"footer";if(bt()==="checkout")return"checkout"}catch{s.error(new R("email location failed"))}return"unknown"},Gu=()=>{let t=bt()==="checkout",e=document.querySelector('input[type="checkbox"]');return t&&e&&!e.checked},yh=(t,e)=>t.some(o=>typeof o=="string"&&o.toLowerCase().includes(e)),Vu=(t,e)=>e.some(yh.bind(null,t)),Hu=t=>{let e=[...Array.from(t.classList),t.action,t.id];return Vu(e,uh)&&!Vu(e,ph)},wh=t=>{window._learnq=window._learnq||[],window._learnq.push(["identify",{$email:t}])},vh=(t,e)=>{let o={...t};return w(Object.keys(o),r=>{w(e,n=>{r.includes(n)&&(o[r]="redacted")})}),o},Sh=t=>{s.push({trigger:E.VIEW,data:{page_id:wt.page_id,custom_dimensions:t}})},dt=(t,e)=>{let o=t.email||t.$email,r=hn(o);En(r)&&(Te(r),wh(r),Sh({...vh(t,mh),location:Eh(e)}),mt.piiWasSubmitted())};var Wu=["checkout","account","login"],Ih=bt(),Ah=X(),Ku=t=>{if(Wu.includes(Ih)||Wu.some(o=>Ah.includes(o))||Gu())return;let e=t.value;e&&dt({email:e},document.activeElement)},xh=()=>{let t;w(vn(),e=>{if(t=qu(e),t){if(Hu(t))return;h.addListener(t,"submit",()=>{Ku(e)})}else h.addListener(e,"focusout",()=>{Ku(e)})})};function Is(){C(()=>{h.setTimeout(xh,5e3)})}var{submitEvents:bh}=wt.platforms.attentive;function As(){h.addListener(window,"message",t=>{let{origin:e,data:o,target:r}=t;if(e.includes(".attn.tv")){let{__attentive:n}=o;bh.includes(n?.action)&&dt(n,r.document.activeElement)}})}var Th=(t,e)=>{if(e.isWrapped)return e;function o(){try{t.apply(this,arguments)}catch{}return e.apply(this,arguments)}return o.isWrapped=!0,o},Dr=(t,e)=>Th(t,typeof e=="function"?e:()=>{});var{submitEvents:Ph}=wt.platforms.bounceExchange;function xs(){h.setTimeout(()=>{window.bouncex=window.bouncex||{},window.bouncex&&typeof window.bouncex.push=="function"&&(window.bouncex.push=Dr((...t)=>{let{email:e,source:o}=t[0][1];Ph.includes(o)&&dt({email:e})},window.bouncex.push))},8e3)}function bs(){h.setTimeout(()=>{window.ju_callback=Dr((t,e)=>{dt({email:e})},window.ju_callback)},5e3)}var{submitEvents:kh}=wt.platforms.klaviyo;function Ts(){h.addListener(window,"klaviyoForms",t=>{let{detail:e,target:o}=t,{type:r,metaData:n}=e;kh.includes(r)&&dt(n,o.document.activeElement)})}var{submitEvents:Ch}=wt.platforms.sleekNote;function Ps(){h.addListener(window,"sleekNote",t=>{let{data:e,target:o}=t;Ch.includes(e.type)&&dt(e.data,o.activeElement)})}var{submitEvents:Nh}=wt.platforms.wisePops;function ks(){h.setTimeout(()=>{let t=window.WisePopsObject||"";Nh.forEach(e=>{window[t]("listen",e,o=>{let{target:r}=o,n=r.querySelector('input[type="email"]')?.value;dt({email:n},r)})})},5e3)}var Oh={attentive:As,bounce_exchange:xs,just_uno:bs,klaviyo:Ts,sleek_note:Ps,wise_pops:ks};function Cs(){let t=L("config.emailFormTracking"),e=t?.active||!1,o=t?.platforms||[];e&&e===!0&&(Is(),o.map(r=>r.name).forEach(r=>{let n=Oh[r];n&&n()}))}function Se(){let t=vt(window.location.search).variant,e=t?t.split("?")[0]:null;if(e)return parseInt(e,10);let o=[...document.querySelectorAll('input[name="id"]')];if(o.length===1)return parseInt(o,10);let r=window.ShopifyAnalytics?.meta;if(r?.product?.id){let n=[...document.querySelectorAll(`input[name="id"][data-productid="${r?.product?.id}"]`)];if(n.length===1&&n[0]?.value)return parseInt(n[0].value,10)}if(r?.product?.variants&&r?.selectedVariantId){let n=parseInt(r?.selectedVariantId,10),i=r?.product?.variants.filter(f=>f.id===n);if(window.ReCharge&&window.ga&&document.querySelector('[name="properties[shipping_interval_frequency]"]')?.value){let f=window.ReCharge.products.filter(a=>typeof a.variant_to_duplicate[`${n}`]=="string");if(f.length===1)return f[0].variant_to_duplicate[`${n}`]}if(i.length)return n}return null}var ju=!1;function Rh(t){return t.filter(o=>o.available===!0).length>0}function Lh(t,e){let o=t.filter(r=>r.id.toString()===e);return o[0]?o[0].available:!0}function Ju(){U(`${x().split("?")[0]}.js`,{},t=>{let e=Se(),o=t.variants&&t.variants.length>1,r={custom_dimensions:{out_of_stock:{in_stock:!1}}};e&&o&&!Lh(t.variants,e)?(r.custom_dimensions.out_of_stock.product_id=e,s.push({trigger:E.OUT_OF_STOCK,data:r})):!e&&o&&!Rh(t.variants)?(r.custom_dimensions.out_of_stock.product_id=t.variants[0].id,s.push({trigger:E.OUT_OF_STOCK,data:r})):!e&&!o&&!t.available&&(t.variants?r.custom_dimensions.out_of_stock.product_id=t.variants[0].id:r.custom_dimensions.out_of_stock.product_id=t.id,s.push({trigger:E.OUT_OF_STOCK,data:r}))},()=>({}))}function Dh(){let t=document.URL;h.addListener(document,"change",()=>{let e=document.URL;Se()&&e&&t!==e&&(t=e,Ju())})}function Ns(){C(()=>{eo()&&(Ju(),ju===!1&&(Dh(),ju=!0))}),J(()=>{k("platform",E.OUT_OF_STOCK,t=>{O(T.OUT_OF_STOCK,t)})})}var Yu=!1;function Fh(t){let o=[{type:"shop_pay",button:[...document.querySelectorAll('[data-testid="ShopifyPay-button"]')]},{type:"google_pay",button:[...document.querySelectorAll('[data-testid="GooglePay-button"]')]},{type:"apple_pay",button:[...document.querySelectorAll('[data-testid="ApplePay-button"]')]}].filter(r=>r.button[0]===t.target);if(o.length){let r={custom_dimensions:{type:o[0].type}};s.push({trigger:E.PAYMENT_METHOD_CLICK,data:r})}}function Os(){Yu||(C(()=>{Pt()==="contact"&&(h.addListener(window,"blur",()=>{if(document.activeElement.title==="Checkout with PayPal"){let e={custom_dimensions:{type:"paypal"}};s.push({trigger:E.PAYMENT_METHOD_CLICK,data:e})}}),h.addListener(document,"click",e=>{Fh(e)}))}),Yu=!0),J(()=>{k("platform",E.PAYMENT_METHOD_CLICK,t=>{O(T.PAYMENT_METHOD_CLICK,t)})})}var Xu=!1;function Bh(t){let e=t.ratio;return t.active&&e&&q({name:"hotjar",allocations:[{percent:e,value:!0}]})}function $h(t,e){t&&e&&e.length&&(function(o,r,n,i,p,f){o.hj=o.hj||function(){(o.hj.q=o.hj.q||[]).push(arguments)},o._hjSettings={hjid:t,hjsv:6},p=r.getElementsByTagName("head")[0],f=r.createElement("script"),f.async=1,f.src=n+o._hjSettings.hjid+i+o._hjSettings.hjsv,p.appendChild(f)}(window,document,"https://static.hotjar.com/c/hotjar-",".js?sv="),w(e,o=>{window.hj("event",o)}))}function zu(t,e){!Xu&&Bh(e)&&($h(e.hjid,t),Xu=!0)}function Mh(t){document.documentElement.dispatchEvent(new CustomEvent("cart:refresh",{bubbles:!0}));let e=document.querySelector(t.cartCountSelector)||{},o=B(e.innerText.replace(/\D/g,""));e.innerText=(o+1).toString();let r=document.getElementById("mini-cart")||{};r.open=!0}function Vh(t,e){t.innerHTML='<img class="loading_image" src="https://init.blackcrow.ai/public/loading.svg">',h.setTimeout(()=>{t.innerHTML=e},2e3)}function Uh(t,e){let o=kt("span",{className:"sticky-call-to-action-headline",innerHTML:t});return h.addListener(o,"click",()=>{e.custom_dimensions.predictive_button.action="clicked headline",s.push({trigger:E.PREDICTIVE_BUTTON,data:e})}),o}function Qu(t,e,o,r){let n={method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}};U("/cart/add.js",n,()=>{o.name.match("checkout")?window.location.href=r:Mh(e)})}function Zu(t,e,o,r,n,i){let p=o.singleItemCheckout?`/cart/${n}:1`:"/checkout",f={items:[{id:n,quantity:1}]};if(e.length&&!i&&Vh(t,e),o.addToCartOverrideSelector&&r.name.match("cart")&&X()?.includes("products")){document.querySelector(o.addToCartOverrideSelector)?.click();return}if(r?.type==="shop-pay"&&(p="/checkout?payment=shop_pay"),window.ReCharge&&window.ga){let a=document.querySelector('[name="properties[shipping_interval_frequency]"]')?.value,g=document.querySelector('[name="properties[shipping_interval_unit_type]"]')?.value;a&&g&&(f.items[0].properties={shipping_interval_frequency:a,shipping_interval_unit_type:g}),U("/cart.js",{},_=>{let y=document.querySelectorAll(`input[name='id'][value='${n}']`).length===0;if(_.items.filter($=>typeof $.properties?.shipping_interval_frequency=="string").length||y){let $=`&cart_token=${(document.cookie.match("(^|; )cart=([^;]*)")||0)[2]}`,lt=`myshopify_domain=${window.Shopify.shop}`,Ot=`&${window.ga.getAll()[0].get("linkerParam")}`;p=`https://checkout.rechargeapps.com/r/checkout?${lt}${$}${Ot}`}})}if(window.ReChargeWidget?.getWidgets){let a=window.ReChargeWidget.getWidgets()[0]||{},g=a.state?.selectedVariantId,_=a.state?.sellingPlanId,y=a.productData?.selling_plan_groups[0]?.selling_plan_group_id,N=a.subscriptionActive||!1,$={id:g,sellingPlanId:_,sellingPlanGroupId:y,isSubscription:N};if(g&&_&&y&&window.ReChargeWidget?.api?.postToCart){window.ReChargeWidget.api.postToCart($).then(()=>{window.location.href=p});return}}if(window.og?.store?.getState()?.optedin&&window.og?.store?.getState()?.config?.frequencies?.length>0){let a=window.og?.store?.getState()?.optedin;a&&a.length&&(f.items[0].id=a[a.length-1].id,f.items[0].selling_plan=a[a.length-1].frequency)}window.Rebuy?U(`${x().split("?")[0]}?view=metafield`,{},a=>{a.metafields.erpLineItem&&(f.items[0].properties={"_erp-line-item":a.metafields.erpLineItem}),Qu(f,o,r,p)}):Qu(f,o,r,p)}function Rs(t,e,o,r,n,i=!1){h.addListener(t,"click",()=>{i?n.custom_dimensions.predictive_button.action="clicked alternative option":n.custom_dimensions.predictive_button.action="clicked button";let p=Se();if(p)Zu(t,e,o,r,p,i);else{let f=document.querySelector('a[role="button"]'),a=X()?.includes("pages")&&f?.href?`${f.href}.js`:`${x().split("?")[0]}.js`;U(a,{},g=>{let _=g.variants.filter(y=>y.available===!0);_.length!==0&&(p=_[0].id,Zu(t,e,o,r,p,i))})}s.push({trigger:E.PREDICTIVE_BUTTON,data:n})})}function tp(t,e,o,r){let n=kt("div",{className:`sticky-call-to-action-container ${e.animated?"animated":""}`}),i;if(e.headline){let a=Uh(e.headline,o);n.append(a)}if(r?.type==="shop-pay"){let a=kt("script",{src:"https://cdn.shopify.com/shopifycloud/shop-js/client.js"}),g=document.createElement("shop-pay-button");return g.setAttribute("store-url",`${window.location.origin}`),n.append(a),n.append(g),Rs(g,"",e,r,o),n}let p=r.text;i={name:"add",type:"button",innerHTML:p,"accept-charset":"UTF-8",className:`sticky-call-to-action-submit ${r.name}`};let f=kt("button",i);if(n.append(f),Rs(f,p,e,r,o),r.alt_option_text){i={innerHTML:r.alt_option_text,className:`sticky-call-to-action-submit-alt-option ${r.name}`};let a=kt("a",i),g=document.querySelector(r.alt_option_override_container);g?g.append(a):n.append(a);let _={...r};r.name.match("checkout")?_.name="cart":_.name="checkout",Rs(a,r.alt_option_text,e,_,o,!0)}return n}var qh="event",Gh="google_analytics";function Hh(t){t.message===b?s.error(new R(`${Gh} globals not found`)):s.error(t)}function ep(t,e){let o=F(["blackcrow",t,e]);D(()=>{if(typeof window.ga=="function"){window.ga("send",{hitType:qh,eventCategory:o,eventAction:null,eventLabel:null,nonInteraction:!0});return}if(typeof window.gtag=="function"){window.gtag("event",o,{event_category:o,event_label:null,non_interaction:!0});return}throw new Error(b)},Hh)}var Wh="bcai_pbtn",Kh="bcai_pbgn",jh="bcai_pbs",Ls="sticky_call_to_action";function Jh(){let t=G(Wh);return t&&t.length?t:!1}function Yh(){let t=G(Kh);return["control","treatment"].includes(t)?t:!1}function Xh(){let t=G(jh);return parseFloat(t)>=0?t:!1}function zh(){return xt(Ls)?.data||{}}function Qh(t,e,o,r){let n=document.querySelector(t.original_button_selector),i=e.querySelector(".sticky-call-to-action-submit");if(n){let p=t.text;if(t.include_prices){let f=o.variants.find(g=>g.id===r)||{};p+=` - ${Ve(f.price||o.price)}`;let a=document.querySelector(`input[value="${r}"]`);h.addListener(a,"change",()=>{a.value.length&&(f=o.variants.find(g=>g.id===parseInt(a.value,10))||{},n.innerHTML=`${t.text} - ${Ve(f.price||o.price)}`)})}n.innerHTML=p,h.addListener(n,"click",f=>{f.preventDefault(),i.click()})}}function Zh(t,e,o){let r=document.querySelector(t),n=document.querySelector(e);if(r&&h.addListener(r,"click",()=>{o.custom_dimensions.predictive_button.action="clicked button",s.push({trigger:E.PREDICTIVE_BUTTON,data:o})}),n)if(!n.attributes.hidden)o.custom_dimensions.predictive_button.action="render",s.push({trigger:E.PREDICTIVE_BUTTON,data:o});else{let i=new MutationObserver(()=>{n.attributes.hidden||(o.custom_dimensions.predictive_button.action="render",s.push({trigger:E.PREDICTIVE_BUTTON,data:o}),i.disconnect())});i.observe(n,{attributes:!0,childList:!0})}}function op(t,e,o,r,n){let i=document.querySelector(t.openMenuSelector);le()>=r&&!e.classList.contains("active")&&va()<464&&i===null?(e.classList.add("active"),o.custom_dimensions.predictive_button.action="render",s.push({trigger:E.PREDICTIVE_BUTTON,data:o})):n&&e.classList.contains("active")&&le()<r&&e.classList.remove("active")}function tE(t){let e=Yh();return e||t.experiment_group}function rp(t,e=[]){let o=Xh()||e.find(r=>r.name&&r.name===t.score_name)?.score;return o?t.score_values.sort((n,i)=>i.score_threshold-n.score_threshold).find(n=>n.score_threshold<=o):null}function eE(t,e){let o=Jh(),n=te(Ls)?.data?.button_displayed,i={};return o&&Array.isArray(n)?(i=n.find(p=>p.name===o)?.value,i.score_values?rp(i,e):i):t?.button_displayed?.score_values?rp(t.button_displayed,e):t.button_displayed}function oE(){let t=te(Ls);if(!((X()?.includes("products")||X()?.includes("pages"))&&t.active))return;let e=zh();if(e.product_blacklist&&e.product_blacklist.includes(bt()))return;let o=tE(e),r=`${x().split("?")[0]}.js`;function n(i){let p=Se();if(!p&&!(i.variants&&i.variants[0]?.id))return;let f=i.variants.find(a=>a.id===p)||{};U("/cart.js",{},a=>{if(document.querySelector(".sticky-call-to-action-container"))return;a.items&&(a=ds(a));let g={custom_dimensions:{predictive_button:{action:"impression",button_displayed:e.button_displayed,experiment_group:o,item_cost:f.price||i.price,cart_total:a.total_price,cart_json:a,version:e.version}}};O(T.PREDICTIVE_BUTTON_DECISION,g,_=>{e.send_ga_events&&ep(g.custom_dimensions.predictive_button.action,o);let y=eE(e,_.apps?.audience?.scores);if(g.custom_dimensions.predictive_button.button_displayed=y,s.push({trigger:E.PREDICTIVE_BUTTON,data:g}),!o||!y)return;if(o==="control"){if(!e.controlButtonSelector)return;Zh(e.controlButtonSelector,e.controlButtonContainer,g);return}if(document.head.insertAdjacentHTML("beforeend",`<link type="text/css" rel="stylesheet" href="https://init.blackcrow.ai/public/css/${u.toLowerCase()}.css">`),e.hotjar){let lt=[`bcai_pred_bttn_${y.name}`];zu(lt,e.hotjar)}let N=tp(i,e,g,y);document.body.append(N),y.original_button_selector&&Qh(y,N,i,p);let $=y.scroll_depth||e.scroll_depth;$?h.addListener(window,"scroll",()=>{op(e,N,g,$,y.hide_on_scroll_up)}):op(e,N,g,$,y.hide_on_scroll_up)})})}if(X().includes("pages")){let i=new MutationObserver(()=>{if(document.querySelector('a[role="button"]')?.href){if(i.disconnect(),r=`${document.querySelector('a[role="button"]').href}.js`,!r.includes("/products/"))return;U(r,{},f=>n(f))}});i.observe(document,{attributes:!1,childList:!0,characterData:!1,subtree:!0})}else U(r,{},i=>n(i))}function Fr(){J(()=>{C(oE),k("platform",E.PREDICTIVE_BUTTON,t=>{O(T.PREDICTIVE_BUTTON,t)})})}function Ds(){C(()=>{h.setTimeout(()=>{if(window.Rebuy){let t={custom_dimensions:{modules:window.Rebuy.modules}};s.push({trigger:E.RB_ACTIVE,data:t})}},3e3)}),J(()=>{k("platform",E.RB_ACTIVE,t=>{O(T.RB_ACTIVE,t)})})}var np=[Lr,Es,ys,ws,vs,Cs,Ns,Os,Fr,us,_s,Ds];var Br="target",rE=[Bt,_o,Eo];function Fs(){function t(o){let r="advanced_matching";Gt(Br,o,r),Y(`${Br} ${r}: ${o}`,"update")}function e(o){let r=M(Br,o.name);!r||Object.keys(r).length===0||typeof o.identify=="function"&&o.identify(Br,()=>t(o.name))}rE.forEach(o=>e(o))}function Bs(){function t(){La(Fs),_c(Fs),hc()}(L("config.visitor.set_info")||Zo())&&C(t)}var ip=!0;function nE(t){lu(),$n(),Zr(),On(),Ke({}),on({}),t&&Object.keys(t).length>0&&Fo(t)}function $s(t={}){function e(n){Eu();let i=S(n,yu());if(on(i),st("platform",E.START,{build:"12248"}),k("platform",E.REFRESH,o),v(i,"page.ignored"))return;of();let p=wu();function f(a={}){On(),O(T.VIEW,a,g=>{gu(g,p)})}J(()=>{k("platform",E.VIEW,a=>f(a))}),np.forEach(a=>a(f)),O(T.VIEW,{},a=>{kr(a,p)},()=>{kr({},p)})}function o(n={}){let i=t.pages||[],p=x(),f=qa(i,p);if(Y(`page: ${f.id} ${f.isNewPage?"\u2714":"\xD7"}`,f),f.isNewPage){let a=S(t,f.config);ip?(Zr(),ip=!1):nE(n),e(a)}}function r(n=0){Xt(t)?o():n<5?h.setTimeout(()=>{r(n+1)},400):(o(),s.error(new R("vendor id not found (google id)")))}v(t,"config.visitor.id_source")==="google"?r():o(),Bs()}var iE=q({name:"log_spa_refresh_sampling",allocations:[{percent:.1,value:!0}]});function sp(t,e){iE&&tt(t,{url:e})}var ap={SPA_REFRESH_ENABLED:"config.spa.refresh.enabled",SPA_REFRESH_DELAY:"config.spa.refresh.delay"};function Ms(){if(!I()&&L(ap.SPA_REFRESH_ENABLED)){let t=L(ap.SPA_REFRESH_DELAY)||1e3;(e=>{if(e===void 0){s.error("Unable to setup SPA refresh: window.history is undefined");return}function o(i){sp("history_intercepted_initial",i),h.setTimeout(()=>{sp("history_intercepted_timeout",i),s.push({trigger:E.REFRESH})},t)}let r=e.pushState;e.pushState=function(){try{let p=arguments.length>=3?arguments[2]:"not passed";o(p)}catch(p){s.error(p)}return r.apply(e,arguments)};let n=e.replaceState;e.replaceState=function(){try{let p=arguments.length>=3?arguments[2]:"not passed";o(p)}catch(p){s.error(p)}return n.apply(e,arguments)}})(window.history)}}function cp(){let t=L("config.events");return t&&t.purchase&&t.purchase.fbEventsToIntercept&&t.purchase.fbEventsToIntercept.length>0?t.purchase.fbEventsToIntercept:null}function fp(){let t=L("config.events");return t&&t.view&&t.view.fbEventsToIntercept&&t.view.fbEventsToIntercept.length>0?t.view.fbEventsToIntercept:null}var sE=["load","error"],aE=q({name:"log_intercepted_fb_event",allocations:[{percent:.1,value:!0}]});function up(t,e){let o="Interepted FB event - ".concat(t.event,". Event fired - ",e.type);aE&&tt(o)}function pp(t,e){return t.find(o=>{let r=o.event,i=(o.filters||[]).map(f=>`.*${f}`).join(),p=`facebook.com/tr/\\?id=.*&ev=${r}${i}`;return e.src.match(p)})}function cE(t,e,o){let r=pp(e,o);r&&(up(r,t),s.push({trigger:E.PURCHASE}))}function fE(t,e,o){let r=pp(e,o);r&&(up(r,t),!Ft()&&r.event==="AddToCart"&&s.push({trigger:E.ADD_TO_CART}),s.push({trigger:E.SET,data:{page_id:r.page_id,setByFacebookIntercept:!0}}),s.push({trigger:E.REFRESH}))}var uE=(t,e,o,r)=>{o&&cE(e,o,t),r&&fE(e,r,t)};function Vs(){if(!I()){let t=cp(),e=fp();if(t||e){let o=Image;Image=function(...n){let i=new o(...n);return sE.forEach(p=>h.addListener(i,p,f=>{uE(i,f,t,e)})),i}}}}function Us(t={},e=()=>{}){fn(t,()=>{if(s.SITE_NAME=u,_a(),Fn(),s.coreStarted){s.push({trigger:E.REFRESH});return}s.coreStarted=!0,Bn(),Ha(t.param_transforms),ic(),$s(t),Ms(),Vs(),Ya(),e()})}Us(l);})();
}catch(e){try{e.message=e.name+':'+e.message;e.name='ParseError';if(blackcrow&&blackcrow.BUILD_NUMBER==='DEV')(blackcrow.error||console.error||console.log)(e);else(blackcrow&&blackcrow.error&&blackcrow.error(e));}catch(_){}}})();
